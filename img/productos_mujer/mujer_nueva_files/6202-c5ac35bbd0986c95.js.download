!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="f3189449-1d39-46dd-acd2-d97e9b639d44",n._sentryDebugIdIdentifier="sentry-dbid-f3189449-1d39-46dd-acd2-d97e9b639d44")}catch(n){}}();var _sentryModuleMetadataGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};"use strict";_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[new _sentryModuleMetadataGlobal.Error().stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[new _sentryModuleMetadataGlobal.Error().stack],{"_sentryBundlerPluginAppKey:pica":!0}),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6202],{94447:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_1-1.a0ab3f62.jpg",height:1163,width:720,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBBExBQYTIUH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8At2poSY8FyNIeQ1xLzZ2s+7VXmCAAAf/Z",blurWidth:5,blurHeight:8}},13624:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_1-2.466fb7a3.jpg",height:4224,width:2616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAdEAABBQEAAwAAAAAAAAAAAAARAAECAwQGBSFB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AK3F83DN423Jq0QqemYJc2P7Mh8IZERB/9k=",blurWidth:5,blurHeight:8}},57925:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_2-1.2baab08d.jpg",height:1163,width:720,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAfEAABAwMFAAAAAAAAAAAAAAABAAMEAgYhERJBcYH/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oADAMBAAIRAxEAPwCZJtqoRor0aew0a29rgAOSOe86eIiIwMk2/9k=",blurWidth:5,blurHeight:8}},86398:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_2-2.161da212.jpg",height:4224,width:2616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAhEAABAwIHAQAAAAAAAAAAAAABAAIEAxIFBhEUIUFxgf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARAv/aAAwDAQACEQMRAD8AkmZZO1iSIeIR6Tn07KoAJuc3v3nT4iIpOTJ1b//Z",blurWidth:5,blurHeight:8}},39642:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_3-1.c29ce005.jpg",height:1163,width:720,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAcEAACAQUBAAAAAAAAAAAAAAABAhEAAwQFMQb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAwDAQACEQMRAD8AmeYx9FtdWox/OWcg48Jcd0BJaJksWBJPeQOUpShZgomf/9k=",blurWidth:5,blurHeight:8}},76962:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_3-2.6e99e274.jpg",height:4224,width:2616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAcEAACAQUBAAAAAAAAAAAAAAABAhEAAwQFMQb/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//EABgRAAMBAQAAAAAAAAAAAAAAAAABEiER/9oADAMBAAIRAxEAPwCN5ixpNrqlGP5y1kGxCXHdASWiZLFgST3kDgpSlT7ODlPT/9k=",blurWidth:5,blurHeight:8}},42924:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_4-1.4ee8a47d.jpg",height:1163,width:720,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDERIEBQYhMWH/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/EABcRAQEBAQAAAAAAAAAAAAAAAAECAwD/2gAMAwEAAhEDEQA/AJWnbiU/ipl19KkFWKVqXcexJ8gAAtUj1vLDOoFO/9k=",blurWidth:5,blurHeight:8}},5963:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance_4-2.ccf4ebe7.jpg",height:4224,width:2616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAeEAABBAIDAQAAAAAAAAAAAAABAAIDEQUSBCExYf/EABUBAQEAAAAAAAAAAAAAAAAAAAUG/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQACAwT/2gAMAwEAAhEDEQA/AIuPz8k/Fbcs7Swa1rrQ9A+1Z7RER+l0skq+flyvkWSf/9k=",blurWidth:5,blurHeight:8}},88981:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_1-1.34752a60.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBBEFEhMhMUH/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAMAwEAAhEDEQA/AKLDTHEtuplydt7VaiWZ1z1V+AAAhEf/2Q==",blurWidth:5,blurHeight:8}},33213:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_1-2.9cb80454.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAgEAACAQIHAQAAAAAAAAAAAAABAgAEEQMFEhMhQXHR/8QAFQEBAQAAAAAAAAAAAAAAAAAABAX/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oADAMBAAIRAxEAPwCmWVlfbF3gzuWvwwAHmrr5ERJcQp6f/9k=",blurWidth:5,blurHeight:8}},12249:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_2-1.b91b547b.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAeEAABAwQDAAAAAAAAAAAAAAABAAMSAgQGIRETMf/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAwDAQACEQMRAD8AvcYG93TcuaGJDjVEpkenZREU5UckHb//2Q==",blurWidth:5,blurHeight:8}},53606:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_2-2.7e0bf3ed.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAeEAABAwQDAAAAAAAAAAAAAAABAAIDBAYSIRETMf/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAwDAQACEQMRAD8AvUWJN3F8lSyDIcaZlmR6dlERTnU4I0//2Q==",blurWidth:5,blurHeight:8}},45705:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_3-1.e526267d.jpg",height:1056,width:1056,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAhEAAABQIHAAAAAAAAAAAAAAAAAQIEEQMhBQYSEyMyof/EABUBAQEAAAAAAAAAAAAAAAAAAAME/8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhEDEQA/ALtXM7ek/N4nEVLoqdbCZXxxp6ERWmbz6AAJqaP/2Q==",blurWidth:8,blurHeight:8}},61053:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_3-2.cfa8615a.jpg",height:1056,width:1056,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAhEAABAwMEAwAAAAAAAAAAAAABAAMRAgQSBQYTITEyof/EABQBAQAAAAAAAAAAAAAAAAAAAAT/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8Auq3cw3f1Xp1LJk3fCIcJbxw9APEz3P1ERDpL/9k=",blurWidth:8,blurHeight:8}},17976:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_4-1.8238dd3b.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAbEAADAAIDAAAAAAAAAAAAAAAAAgMBESEjcv/EABUBAQEAAAAAAAAAAAAAAAAAAAIE/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAECESH/2gAMAwEAAhEDEQA/AJ1VSsIsuGV9dnrgAEyXBVb0/9k=",blurWidth:5,blurHeight:8}},83069:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_4-2.5da541af.jpg",height:1056,width:654,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAeEAACAQMFAAAAAAAAAAAAAAAAAgMBEiEEERMxMv/EABUBAQEAAAAAAAAAAAAAAAAAAAIE/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARAv/aAAwDAQACEQMRAD8AlzIs2mgdbkktry0x6xv2ACcDJvTt/9k=",blurWidth:5,blurHeight:8}},28132:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-1.6eadbe40.png",height:349,width:626,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAARVBMVEWlXTm9lGb+7q2Re1+oVymhoKawe19qYFuOWD2LaVx9aVNaTENvdHyohXior7f3uUP634LEqIvXhTfprmDBc0Hy2JjLmoTQiWYeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVR4nAXBhwEAIAgDsIIg7q3/n2qCy2MSuYTN3cdYDLIOQsgGfR5Sm34VggEoTKCgBgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}},74921:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-2.875e1c1e.png",height:349,width:617,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAPFBMVEUQCwbDqZitlIPuzrymeGJ0WkpcPCsmFggaDAUJBgOAY1BAKx+FZ1XHmYinfm7WsaK1fHC9opFzRTOWcFw2eExaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALklEQVR4nAXBhwEAIAjAsKoo4B7//2qC1hB6c9B8JBZ3bCYZF7CcthRALa6nxgcYiwEXmp98iQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}},68328:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-3.9dde303d.png",height:349,width:626,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAS1BMVEWcXlCDkreuZ1RfQi9sTT+PXF2VSz2RamCedWqqg3eSVEFgio+FfWujPio2SF3Ek3qRtH1jamdxU1CdsraFhZZ8R1B0ZHCbvcm5oZ7mtvf2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVR4nAXBhQEAIAwDsKLbcIf/LyXBnQ9aeoJsYgRrMBZ7MFkc5XJtsXwY2wFR1x2oIwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}},40666:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-4.c74da056.jpg",height:698,width:1252,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAdEAEAAgICAwAAAAAAAAAAAAABAAIDIQURMUFh/8QAFQEBAQAAAAAAAAAAAAAAAAAABAX/xAAYEQEBAAMAAAAAAAAAAAAAAAACABExUf/aAAwDAQACEQMRAD8AiYs1r8MWsCoPwe968eoiIFNdqABxq//Z",blurWidth:8,blurHeight:4}},90458:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-5.a0376dd6.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEWYoYOGYz50WTuprpOepotQNCN6YUJNKhJkSTNcPSVCJBU5GgloVD2GbU2pekxqaVOUZjyAWDKYeUtsSCnCuJiVmXyLdFWNkXSIiWyNi21vRhKNj3KCgGOxi1pkQySndUJnFNwbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQ0lEQVR4nAXBhQHAMAwDMKeUMo6p/385CYsEFJQE9hO32RQO6k+peUWhV4yRDWJr33RCw5Lgyuzhor16Ch7WaTYp6B9oHQLgdwMXYQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},89811:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-6.97c23d2e.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEUAAABbPy59YEZiQzAQDAk7JRlcLRp9clodEgxoWjsmFQ/Tp4xFMiOJVj2Uak9ZSzcyGg7CpI6JZE+eh3FRQyqtdWCZdWLDjHiaY0xbMx2ysp63kG1dU0NIRTreybHplm6fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQ0lEQVR4nAXBBQLAIAwEsENb3GbM/v9MEgBGjb98gGajmniBKHrukaB9CtJKAnsbjiQJus5nPx2B68xXcw4slBl32RZefwLfIPGVuwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},31752:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-after-7.49c1996a.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAb1BMVEVbsfRYc41KgbN6ZVtOqu5FoOBqufA+YH97gYmCg4p/d3h7w/iYkJCOzvl1j6prc4F3gY6FjZmvrrGlu8tSodizo5pbh6tnlbuJs9RioNZhrep5nsCjo6mMtdJ1qdOQfnmOdWc4g7tPWmhcjrkvjc2yMOBtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBhQGAMAADsI65M8Md/r+RBMAyA4zB2tCvhxDwk1ZJ7R5dSDH2pcBt2ZncGqg5L6q1AhlG8ry1gvNOSnl/P3ieA5rz0LzEAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},56779:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-1.5e7a315e.png",height:349,width:626,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAUVBMVEWlXTmohXhaTERoXlz+7q2GbFp9aVOhoKaoVymwe1+RWTyLWD9tYVpvc3uor7eRe1+PZl+/mWT3uUPXhTe6j2n734LFqYvprmDCc0Hz2JjLmoSHBZ23AAAAG3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7Q4gSTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVR4nAXBhQEAIAwDsKLD3f8/lARXzjVq1tiy2aKigOkH3vEAehaGJfoerwF8HCJJzAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}},44724:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-2.76ac9ba3.png",height:349,width:617,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAOVBMVEUPCAWadmWPbVzhyLp3YFKgem9dPjIIBgUZEAm3oZQ3Jx9sVkmjlYckFg6iiXzJrKC5lYdMMyVqWE18Dq/TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALUlEQVR4nAXBhwEAIAzDMDPTsuH/Y5Gw7J6bhHUPq0pQUjwV4KUSrsBs7DjhAxfnAQfUk3GRAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5}},79552:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-3.8383c7a3.png",height:349,width:626,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAOVBMVEV4b2iPjISjrauTk49xYFhja2p3dW5bV1OHfXZ7fHaImKFJR0CVqpY/TVF3jo2hnJGBio2juLp1ZlwUxPG2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nAXBiQEAEAwEwRXkxK//Zs3wzGi5BkneQAPdKCQXtVPO3OsDDR8A0gC/ypIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},354:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-4.3b15fb00.jpg",height:349,width:626,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAdEAEAAgICAwAAAAAAAAAAAAABAAIDEQUhMUFh/8QAFAEBAAAAAAAAAAAAAAAAAAAABP/EABcRAAMBAAAAAAAAAAAAAAAAAAABAlH/2gAMAwEAAhEDEQA/AIeHPa/ClrAqD82unrx6iIhap6MmVh//2Q==",blurWidth:8,blurHeight:4}},31899:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-5.2a705b54.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWZmZlnZ2dfX198fHxVVVU5OTmMjIxubm5NTU1DQ0Otra2hoaGDg4Nzc3MsLCzLYp9jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOUlEQVR4nAXBiQHAIAgAseOHou4/bhO+hWU/yCTFllNmdQ+IpLofQVXaRgcvjYoIWr3tvof3hNw3PzGMAXxiJYS0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},24892:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-6.084ea67f.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEUDAgGFalctHRR0XktRMCBZQTMTDgt3b1xMRDYdEw9aTEFeVD/GppKYdWZ8V0RBMyg5KB65o5OXhnZmWUEnHBm1jX6NZFOtrJ6qjXOBY1LWx7W1B8VwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQ0lEQVR4nB3GSRLAIAgEwDGCAu6a/f8PTVX61AA6z9cEgHYbYkBj554WEfaaPfkIVcql+oiw0V2O9cedIyUoc5+XyAdT9QJxn4ngZAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},20915:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/enhance-before-7.84815baf.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEVesfJ7xPmBbGGimplAY4NFn+BeeZOMhohPrPF6g5FquvF8l7ODi5SNuNeOl6OFkJuOzvk/hbu2tLhdo9iyra5giq6EeXpYg7Rpl718osR3rNWWfnGrusdTX2y7p5qAhI5ekLovjc5PodirxtmSQ+66AAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nAXBhQGAMAADsM7dhzv8/yMJADRorUGIM8tqLXJIPvqQMbloTNo/sF6Zqv0EHdVGlbogh1ked3shROGcl+cHbUMDbCLKB6gAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},86631:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration-2.9fc46300.png",height:720,width:720,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEVIOx6uk1bs5NB4YzHl28LArHxgTiTm3cUzKxnMuo6UfkrSwpvaza3Jt4qZfkGLdUKQeUY/NR1QQiK2nmXXyafcAGt+AAAACnRSTlP9////8v///fL+5oiaFAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD1JREFUeJwdwwkOgDAIAMGFCmjvav//VqOTDOeCBZDF/8zs98wOaST/ItLtkW40s9LMLkqNWnZsQjVC9XgBPvYB2L2itQkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},62176:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration-3.4c04dbd9.png",height:720,width:720,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEVMaXFibG5n//yd/9JhZWNLX1tzhYJIREKei31raGV+wpY+Q0J9a2JFUFZykXuTjYGAtJBUfHhsc2mRoX5FbWY9XFOHgHdn479/d21sZV9eWll0a2VXUVFkYV9OS0pcbmV2lJCArG//AAAAG3RSTlMA/DYHLP39/f75cv35+U3+aMDQR8rg+5n///49v8hkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nAXBhQGAMBAEsKsrFOfr7D8lCSCNMbk74KRK1DKEn9naMsBfNWzqFdcdmv5UQYu1MD0XhIcOv60S0bGdC+AHlOAD5FhHE0oAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},79699:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_seo_part_1-1.71d43d36.jpg",height:831,width:1248,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAeEAABBAEFAAAAAAAAAAAAAAABAAIDEgQFESExkf/EABQBAQAAAAAAAAAAAAAAAAAAAAP/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8AlPp8GJGwxjctFTYA247PpRERQj//2Q==",blurWidth:8,blurHeight:5}},93372:function(n,e){e.Z={src:"https://static.pica-ai.com/_next/static/media/restoration_seo_part_1-2.37f425a3.jpg",height:831,width:1248,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAABBAEFAQAAAAAAAAAAAAABAAIDBBIREyFBUrH/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhEDEQA/AJi8G02Q0nN3o4IjjkfR0P0njtERFCV//9k=",blurWidth:8,blurHeight:5}},28857:function(n,e,t){t.d(e,{I:function(){return o}});var i=t(52297),r=t.n(i);let o=r()(()=>Promise.all([t.e(685),t.e(1115),t.e(2650),t.e(2997)]).then(t.bind(t,82997)).then(n=>n.PicaSynchronizedDiffImage),{loadableGenerated:{webpack:()=>[82997]},ssr:!1})},87087:function(n,e,t){t.d(e,{$:function(){return A},D:function(){return r}});var i,r,o=t(98607);function a(){}(i=r||(r={})).PENDING="pending",i.UPLOADING="uploading",i.PRELOAD_FAILED="preload_failed",i.UPLOAD_FAILED="upload_failed",i.SUCCESS="success";let A=(0,o.createContext)({hasError:!1,errorReason:"",setErrorReason:a,retryGenerate:a,resetAll:a,isResultDiffImageReady:!1,setIsResultDiffImageReady:a,horizontal:!1,uploadedFiles:[],originUploadedFiles:[],handleUploadedFiles:()=>Promise.resolve(),taskId:"",rmWatermark:()=>new Promise(()=>{}),waterMarkRemoving:!1,setProxyResults:a,proxyResults:[],fileHandling:!1,loaddingStatus:{},onDrop:a,isRestoration:!1,selectedPreviewOrigin:null,setSelectedPreviewOrigin:a,abortUpload:a,isOverMaxImageCount:!1,setIsOverMaxImageCount:a})},13639:function(n,e,t){t.d(e,{rm:function(){return o},yK:function(){return r},yk:function(){return i}});let i="PICA_ENHANCE_OPEN_DIFFIMG_MODAL",r="PICA_MOBILE_UPLOAD_START",o="PICA_ENHANCE_GENERATE_INIT_SUCCESS"},68247:function(n,e,t){t.d(e,{T:function(){return l}});var i=t(98607),r=t(74395),o=t(88838),a=t(98706),A=t(87087);let l=n=>{let{isRestoration:e}=(0,i.useContext)(A.$),t=void 0===n?e:n,l=(0,a.Z)((n,e)=>t=>{(0,o.U)(n,{...e||{},...t})}),s=(0,i.useMemo)(()=>({position_source:t?"restore":"enhance"}),[t]),c=l(r.rl.Exposure,s),d=l(r.rl.Click,s),u=l(r.rl.Drag,s),h=l(r.rl.Task,s),p=l(r.rl.Media,{...s,media_type:"image"});return{exposureTrack:c,clickTrack:d,dragTrack:u,taskTrack:h,mediaTrack:p}}},86202:function(n,e,t){t.d(e,{H:function(){return aD}});var i,r,o,a=t(18421),A=t(98607),l=t(54268),s=t.n(l),c=t(17945),d=t(52297),u=t.n(d),h=t(98706),p=t(54588),g=t(88473),f=t(13404),m=t(36512);function v(){let n=(0,g._)(["\n  z-index: 1;\n  position: relative;\n  &.dropped {\n    .enhancer-container {\n      background-color: var(--color-colors-brandbg);\n    }\n    .upload-holder {\n      border-color: var(--color-colors-contentsoft);\n      .pica-common-button {\n        opacity: 0;\n      }\n    }\n  }\n"]);return v=function(){return n},n}function x(){let n=(0,g._)(["\n      display: none;\n    "]);return x=function(){return n},n}function b(){let n=(0,g._)(["\n    font-size: var(--font-title-large);\n    padding-top: var(--spacing-small);\n    margin-bottom: var(--spacing-small);\n    margin-top: 0;\n    width: 100%;\n    padding: 0 var(--spacing-normal);\n    box-sizing: border-box;\n  "]);return b=function(){return n},n}function w(){let n=(0,g._)(["\n  font-size: var(--font-title-large);\n  line-height: var(--font-title-large-H);\n  color: var(--color-colors-contentmain);\n  font-weight: 700;\n  text-align: center;\n  position: relative;\n  width: 1080px;\n  margin: var(--spacing-xlarge) auto 8px auto;\n  font-family: var(--font-montserrat);\n  svg {\n    position: absolute;\n    right: 25%;\n    z-index: -1;\n    ","\n  }\n  ","\n"]);return w=function(){return n},n}function E(){let n=(0,g._)(["\n    font-size: var(--font-headline);\n    line-height: var(--font-headline-H);\n    width: 100%;\n    padding: 0 var(--spacing-normal);\n    box-sizing: border-box;\n  "]);return E=function(){return n},n}function C(){let n=(0,g._)(["\n  font-size: var(--font-headline);\n  line-height: var(--font-headline-H);\n  color: var(--color-colors-contentsoft);\n  font-weight: 590;\n  text-align: center;\n  width: 1080px;\n  margin: 0 auto;\n  ","\n"]);return C=function(){return n},n}function _(){let n=(0,g._)(["\n    width: 100%;\n    height: auto;\n    padding: var(--spacing-small) var(--spacing-normal);\n    background-color: transparent;\n    border-radius: 0;\n    margin: 0 auto;\n    flex-direction: column;\n  "]);return _=function(){return n},n}function z(){let n=(0,g._)(["\n  display: flex;\n  box-sizing: border-box;\n  width: 1080px;\n  height: 758px;\n  overflow: hidden;\n  padding: var(--spacing-medium, 28px) var(--spacing-xlarge, 64px);\n  background-color: var(--color-colors-bgoverlay);\n  border-radius: var(--spacing-large);\n  margin: 36px auto var(--spacing-xlarge) auto;\n\n  ","\n"]);return z=function(){return n},n}function O(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  background: rgba(242, 244, 245, 1);\n  padding-top: 24px;\n  box-sizing: border-box;\n  gap: 8px;\n  overflow-y: hidden;\n  height: calc(100vh - 220px);\n  justify-content: center;\n"]);return O=function(){return n},n}function B(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  box-sizing: border-box;\n"]);return B=function(){return n},n}function D(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-left: var(--spacing-medium, 24px);\n  padding-right: var(--spacing-medium, 24px);\n  box-sizing: border-box;\n  background-color: #fff;\n  border-top-left-radius: var(--spacing-large);\n  border-top-right-radius: var(--spacing-large);\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n"]);return D=function(){return n},n}let I=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-0"})(v()),y=f.ZP.h1.withConfig({componentId:"sc-c6b1e7c2-1"})(w(),m.BC.mobile(x()),m.BC.mobile(b())),j=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-2"})(C(),m.BC.mobile(E())),k=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-3"})(z(),m.BC.mobile(_())),Z=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-4"})(O()),S=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-5"})(B()),Q=f.ZP.div.withConfig({componentId:"sc-c6b1e7c2-6"})(D());var P=t(6862),R=t(20033),U=t(13639),M=n=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:226,height:72,fill:"none",...n,children:[(0,a.jsx)("path",{stroke:"url(#photo-enhance-title-bg_svg__a)",strokeLinecap:"round",strokeWidth:34,d:"M17 51.245c36-7.74 62.797-34.855 96-33.474 41.504 1.727-52.496 31.451-20.122 35.94C125.25 58.199 162 16.485 199.5 17.005c22 .305-2 26-15.672 36.706"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"photo-enhance-title-bg_svg__a",x1:29.5,x2:224,y1:-.996,y2:65.004,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#EFDD3D",stopOpacity:.43}),(0,a.jsx)("stop",{offset:1,stopColor:"#D51AC3",stopOpacity:.52})]})})]}),L=t(18830),F=t(96234),N=t(6837),H=t(88909),T=t(52572),V=t(15712),W=t(26238),J=t(25711),K=t(39721),X=t(37572),Y=t(87914),G=t(68247),q=t(63697),$=t(24037),nn=t(64302),ne=t(64659);let nt=async n=>{let{mediaTrack:e,uploadStart:t,imageData:i,taskStartTime:r}=n,o="";e({action:"upload_media_start"});try{let{imageUrl:n}=await t(i);o=n;let a=(Date.now()-r)/1e3;e({action:"upload_media_success",duration:a})}catch(t){let n=(Date.now()-r)/1e3;e({action:"upload_media_failed",duration:n,error:t.message})}return o};var ni=t(827);let nr=()=>{},no=()=>{let{loading:n,runAsync:e,cancel:t}=(0,X.Z)({url:H.yx,method:"post",creditCost:T.yB},{manual:!0}),i=(0,h.Z)(n=>{let{image:t,style:i,meta:r}=n;return e({style:i||"upscale-pic",image:t,meta:r})});return{upscaling:n,upscaleStart:i,upscaleCancel:t}},na=()=>{let{loading:n,runAsync:e,cancel:t}=(0,X.Z)({url:H.gJ,method:"post",creditCost:T.yB},{manual:!0}),i=(0,h.Z)(n=>e(n));return{upscaling:n,upscaleStart:i,upscaleCancel:t}},nA=(n,e)=>{let{loading:t,run:i,cancel:r}=(0,X.Z)({url:n?H.rE:H.ys,method:"post"},{manual:!0,pollingInterval:V.ME,pollingErrorRetryCount:1,...e}),o=(0,h.Z)(n=>{i({asyncTaskIds:[n]})});return{querying:t,queryStart:o,queryCancel:r}},nl=n=>{let{subscriptHook:e,errorHook:t=nr,isRestoration:i,isBatch:r=!1}=n,{t:o}=(0,c.Z)("index"),[a,l]=(0,A.useState)(null),[s,d]=(0,A.useState)(null),[u,p]=(0,A.useState)(null),[g,f]=(0,A.useState)([]),[m,v]=(0,A.useState)(0),{isCreditEnough:x,checking:b,getRemainingCredit:w}=(0,N.e)(),{getUserInfo:E}=(0,ne.J)(),{uploadStart:C,uploading:_,uploadCancel:z}=(0,F._x)(),{upscaleStart:O,upscaling:B,upscaleCancel:D}=no(),{upscaling:I,upscaleStart:y,upscaleCancel:j}=na(),{taskTrack:k,exposureTrack:Z,mediaTrack:S}=(0,G.T)(i),Q=(0,W.C)(J.fK),P=(0,h.Z)(n=>{let e=n[0],{queueStatus:i,tasks:a}=e;if(i===K.lU.PENDING){l(e.asyncTaskQueueVO);return}if(i===K.lU.SUCCESS){if(L(),a){let n=function(n){let{res:e,isPaid:t}=n,{tasks:i}=e;return i.filter(n=>n.queueStatus===K.lU.SUCCESS).map(n=>ns({res:{...e,...n},isPaid:t}))}({res:e,isPaid:Q});n.length!==a.length&&E(),f(n),Z({action:"task_result_finished",...(0,ni.CP)({isBatch:r,taskId:s,photoCount:a.length}),source_url:n[0].before,target_url:n[0].after,watermarked:!Q,duration:Math.floor((Date.now()-m)/1e3)})}else{let n=ns({res:e,isPaid:Q}),{after:t}=n;f([n]),Z({action:"task_result_finished",...(0,ni.CP)({isBatch:r,taskId:s,photoCount:1}),source_url:u,target_url:t,watermarked:!Q,duration:Math.floor((Date.now()-m)/1e3)})}X()}else[K.lU.FAIL,K.lU.EXPIRED].includes(i)&&(L(),X(),i===K.lU.EXPIRED?t(o(nn.FC[nn.m6.EXPIRED])):i===K.lU.FAIL&&(t(o(nn.FC[nn.m6.ERROR])),Z({action:"task_result_failed",...(0,ni.CP)({isBatch:r,taskId:s,photoCount:a.length||1}),duration:Math.floor((Date.now()-m)/1e3),error:i})));l(null)}),R=(0,h.Z)(n=>{t(n.message),l(null),X()}),{queryStart:U,querying:M,queryCancel:L}=nA(i,{onSuccess:P,onError:R}),H=(0,h.Z)(()=>{f([]),L()}),{loading:T,reqStart:V,reqEnd:X}=(0,Y.f)(M,r?I:B,_,b),nl=(0,h.Z)(async n=>{let r=(0,ni.nK)(n,!!i),o=await x(r);if(!o)try{return e&&await e({bizCode:Q?$.t1:$.WG,neededCreditCount:r}),await nl(n)}catch(n){return t("",!0),!1}return o}),nc=(0,h.Z)(async n=>{let e=Date.now();try{var i;k({action:"create_task_start",media_url:n[0],photo_count:n.length}),p(null===(i=n[0])||void 0===i?void 0:i.url);let r=await y(n.map(n=>({image:n.url,style:"upscale-pic",meta:JSON.stringify({originalFileName:n.originalFileName})}))),{parentTaskId:o,asyncTaskQueueVO:a,code:A}=r;if(A&&(0,q.wg)(A)){t("",!0);return}E(),l(a),d(t=>(t&&H(),v(Date.now()),k({action:"create_task_success",media_url:n[0],batch_task_id:o,duration:Date.now()-e,photo_count:n.length}),Z({action:"task_result_waiting",batch_task_id:o,photo_count:n.length}),U(o),o))}catch(t){console.trace(t),k({action:"create_task_fail",duration:Date.now()-e,code:null==t?void 0:t.code,error:null==t?void 0:t.message,photo_count:n.length,media_url:n[0]})}}),nd=(0,h.Z)(async n=>{let{imageData:e,originalFileName:i,isRestoration:r,onUploadSuccess:a,onStartEnhance:A}=n;V();let s=Date.now(),c="";try{if(c=e,e instanceof FormData){let n=await nt({mediaTrack:S,uploadStart:C,imageData:e,taskStartTime:s});if(n&&(c=n,null==a||a(n)),!n){t(o("1_photo_upload_failed"));return}}k({action:"create_task_start",media_url:c,photo_count:1}),p(c),null==A||A();let n={};n=r?await O({image:c,style:nn.R8.RESTORATION,meta:JSON.stringify({originalFileName:i})}):await y([{image:c,style:nn.R8.UPSCALE,meta:JSON.stringify({originalFileName:i})}]);let{asyncTaskQueueVO:u,code:h}=n,g=r?n.taskId:n.tasks[0].taskId,f=n.parentTaskId;if(h&&(0,q.wg)(h)){t("",!0);return}E(),l(u),d(n=>(n&&H(),v(Date.now()),k({action:"create_task_success",media_url:c,task_id_string:g,duration:Date.now()-s}),Z({action:"task_result_waiting",task_id_string:g}),U(r?g:f),g))}catch(n){k({action:"create_task_fail",duration:Date.now()-s,code:null==n?void 0:n.code,error:null==n?void 0:n.message,photo_count:1,media_url:"string"==typeof c?c:""}),w(),t(n.message),console.trace(n)}}),nu=(0,h.Z)(()=>{z(),r?j():D(),L(),X()});return{photoEnhanceStart:nd,batchPhotoEnhanceStart:nc,creditCheck:nl,photoEnhancing:T,photoEnhanceCancel:nu,taskId:s,results:g,resetResult:H,queueInfo:a,loaddingStatus:{creditChecking:b,uploading:_,upscaling:r?I:B,querying:M}}};function ns(n){let{res:e,isPaid:t}=n,{generateImage:i,meta:r,originalImage:o,taskId:a}=e,A=!t;try{A=!JSON.parse(r).showNoWatermarkImage}catch(n){}return{id:a,before:o,after:i,hasWatermark:A}}var nc=t(32846);let nd=(n,e,t)=>{let{isMobile:i}=(0,nc.ZP)(),{photoEnhanceStart:r,batchPhotoEnhanceStart:o,creditCheck:a,photoEnhanceCancel:l,photoEnhancing:s,loaddingStatus:c,taskId:d,results:u,resetResult:p,queueInfo:g}=nl({errorHook:n,subscriptHook:q.ZP,isRestoration:e,isBatch:t}),f=(0,h.Z)(()=>{i&&R.T.emit(U.yK)}),m=(0,h.Z)(n=>{f(),r(n)}),v=(0,h.Z)(n=>{f(),o(n)});return(0,A.useEffect)(()=>{!c.upscaling&&d&&R.T.emit(U.rm)},[c.upscaling,d]),{start:m,batchStart:v,creditCheck:a,resetResult:p,cancelReq:l,queueInfo:g,taskId:d,results:u,isLoading:s,loaddingStatus:c}};var nu=t(52809),nh=t(87087),np=t(7181),ng=t(9488),nf=t(43830),nm=t(38057),nv=t(88239),nx=t(37017);function nb(){let n=(0,g._)(["\n    flex-direction: column;\n  "]);return nb=function(){return n},n}function nw(){let n=(0,g._)(["\n  display: flex;\n  gap: 26px;\n\n  .rate-card-container {\n    border: none;\n    background: var(--color-colors-bgoverlay);\n  }\n\n  ","\n"]);return nw=function(){return n},n}let nE=f.ZP.div.withConfig({componentId:"sc-b2939fc8-0"})(nw(),m.BC.mobile(nb()));var nC=()=>{let{t:n}=(0,c.Z)("index"),e=(0,A.useMemo)(()=>[{id:12,title:"".concat(n("pe-part5 1-1")," - ").concat(n("pe-part5 1-2")),content:n("pe-part5 1")},{id:7,title:"".concat(n("pe-part5 2-1")," - ").concat(n("pe-part5 2-2")),content:n("pe-part5 2")},{id:5,title:"".concat(n("pe-part5 3-1")," - ").concat(n("pe-part5 3-2")),content:n("pe-part5 3")}],[]);return(0,a.jsx)(nv.Z,{title:n("pe-part5 h2"),children:(0,a.jsx)(nE,{children:e.map(n=>(0,a.jsx)(nx.Z,{title:n.title,content:n.content,src:t(14239)("./avatar-".concat(n.id,".webp"))},n.id))})})},n_=t(36566);function nz(){let n=(0,g._)(["\n      background: transparent;\n      .pica-diff-image {\n        width: calc(100vw - var(--spacing-normal) * 2);\n        height: calc(61.8vh - var(--spacing-normal) * 2);\n      }\n    "]);return nz=function(){return n},n}function nO(){let n=(0,g._)(["\n    gap: 40px;\n  "]);return nO=function(){return n},n}function nB(){let n=(0,g._)(["\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  padding: var(--spacing-xlarge) var(--spacing-normal);\n  background: transparent;\n\n  flex-direction: column;\n  align-items: center;\n  gap: var(--spacing-large);\n\n  &.restoration {\n    background: var(--color-colors-bgoverlay);\n    .pica-diff-image {\n      width: 100%;\n      height: 720px;\n      border-radius: var(--spacing-medium);\n    }\n    ","\n  }\n\n  ","\n"]);return nB=function(){return n},n}function nD(){let n=(0,g._)(["\n    gap: var(--spacing-medium); \n    width: 100%;\n    .item {\n      flex: 1 1 100%; \n    }\n  "]);return nD=function(){return n},n}function nI(){let n=(0,g._)(["\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 1280px;\n\n  gap: var(--spacing-large) var(--spacing-medium);\n\n  ","\n"]);return nI=function(){return n},n}let ny=f.ZP.div.withConfig({componentId:"sc-1020fe3b-0"})(nB(),m.BC.mobile(nz()),m.BC.mobile(nO())),nj=f.ZP.div.withConfig({componentId:"sc-1020fe3b-1"})(nI(),m.BC.mobile(nD()));var nk=t(60532),nZ=n=>{let{title:e,description:t,children:i,className:r}=n;return(0,a.jsxs)(ny,{className:r,children:[(0,a.jsx)(nk.Z,{title:e,description:t}),(0,a.jsx)(nj,{children:i})]})},nS=t(11202);function nQ(){let n=(0,g._)(["\n      flex: 1 1 100%; \n  "]);return nQ=function(){return n},n}function nP(){let n=(0,g._)(["\n  display: flex;\n  padding-bottom: var(--spacing-normal);\n  flex-direction: column;\n  align-items: flex-start;\n  gap: var(--spacing-small);\n  flex: 1 1 calc(50% - var(--spacing-medium));\n\n  border-radius: var(--spacing-normal);\n\n  background: var(--color-colors-bgoverlay);\n\n  ","\n"]);return nP=function(){return n},n}function nR(){let n=(0,g._)(["\n  display: flex;\n  padding: var(--spacing-small) var(--spacing-normal);\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 10px;\n  align-self: stretch;\n"]);return nR=function(){return n},n}function nU(){let n=(0,g._)(["\n    flex-direction: column;\n    gap: var(--spacing-normal);\n  "]);return nU=function(){return n},n}function nM(){let n=(0,g._)(["\n  display: flex;\n  gap: var(--spacing-medium);\n  box-sizing: border-box;\n  ","\n"]);return nM=function(){return n},n}function nL(){let n=(0,g._)(["\n    padding: var(--spacing-normal);\n  "]);return nL=function(){return n},n}function nF(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: var(--spacing-normal);\n  border: 1px solid var(--color-colors-contentopacity08);\n  background-color: var(--color-colors-bgoverlay);\n  padding: var(--spacing-normal) var(--spacing-medium);\n  ","\n"]);return nF=function(){return n},n}function nN(){let n=(0,g._)(["\n    flex-direction: row;\n    align-items: center;\n    svg {\n      margin: 0;\n      transform: scale(0.8);\n    }\n  "]);return nN=function(){return n},n}function nH(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  svg {\n    margin: var(--spacing-small) 0;\n  }\n  ","\n"]);return nH=function(){return n},n}function nT(){let n=(0,g._)(["\n    margin:0 0 0 var(--spacing-xsmall);\n  "]);return nT=function(){return n},n}function nV(){let n=(0,g._)(["\n  color: var(--color-colors-contentmain);\n  font-weight: 700;\n  font-family: var(--font-montserrat);\n  font-size: var(--font-title);\n  line-height: var(--font-title-H);\n  margin: var(--spacing-small) 0 10px 0;\n  ","\n"]);return nV=function(){return n},n}function nW(){let n=(0,g._)(["\n    margin-top: var(--spacing-small);\n  "]);return nW=function(){return n},n}function nJ(){let n=(0,g._)(["\n  color: var(--color-colors-contentsoft);\n  font-family: var(--font-roboto);\n  font-size: var(--font-body);\n  line-height: var(--font-body-H);\n  ","\n"]);return nJ=function(){return n},n}let nK=f.ZP.div.withConfig({componentId:"sc-6e753fc1-0"})(nP(),m.BC.mobile(nQ())),nX=f.ZP.div.withConfig({componentId:"sc-6e753fc1-1"})(nR()),nY=f.ZP.div.withConfig({componentId:"sc-6e753fc1-2"})(nM(),m.BC.mobile(nU())),nG=f.ZP.div.withConfig({componentId:"sc-6e753fc1-3"})(nF(),m.BC.mobile(nL())),nq=f.ZP.div.withConfig({componentId:"sc-6e753fc1-4"})(nH(),m.BC.mobile(nN())),n$=f.ZP.div.withConfig({componentId:"sc-6e753fc1-5"})(nV(),m.BC.mobile(nT())),n0=f.ZP.div.withConfig({componentId:"sc-6e753fc1-6"})(nJ(),m.BC.mobile(nW()));var n1=()=>{let{Title:n,Text:e}=nS.default,{t:i}=(0,c.Z)("index"),r=(0,A.useMemo)(()=>[{data:{before:t(56779).Z.src,after:t(28132).Z.src,ratio:626/349},title:i("pe-part1 title1"),content:i("pe-part1 desc1")},{data:{before:t(44724).Z.src,after:t(74921).Z.src,ratio:626/349},title:i("pe-part1 title2"),content:i("pe-part1 desc2")},{data:{ratio:626/349,before:t(79552).Z.src,after:t(68328).Z.src},title:i("pe-part1 title3"),content:i("pe-part1 desc3")},{data:{before:t(354).Z.src,after:t(40666).Z.src,ratio:626/349},title:i("pe-part1 title4"),content:i("pe-part1 desc4")}],[]);return(0,a.jsx)(nZ,{title:i("pe-part1 h2"),description:i("pe-part1 h2 desc"),children:r.map(t=>(0,a.jsxs)(nK,{children:[(0,a.jsx)(nf.z,{style:{borderRadius:"var(--spacing-normal) var(--spacing-normal) 0 0"},...t.data,onlyHandleDraggable:!0}),(0,a.jsxs)(nX,{children:[(0,a.jsx)(n,{children:t.title}),(0,a.jsx)(e,{color:"var(--color-colors-contentsoft)",type:"body",children:t.content})]})]},t.data.before))})},n2=t(71878),n7=t(42613),n3=t.n(n7),n8=t(3465),n6=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",...n,children:(0,a.jsx)("path",{fill:"#0A0A0A",fillRule:"evenodd",d:"M20.272 8.9a.6.6 0 0 0-.526.31l-9.118 16.5a.6.6 0 0 0 .525.89h9.642a2.7 2.7 0 0 1 2.586 3.476l-2.785 9.284 17.487-16.71h-7.782c-2.063 0-3.364-2.22-2.356-4.019l4.949-8.838a.6.6 0 0 0-.524-.893zm-3.326-1.238A3.8 3.8 0 0 1 20.27 5.7h12.1c2.902 0 4.733 3.124 3.315 5.657l-4.532 8.093h8.176c2.436 0 3.626 2.97 1.866 4.652L21.439 42.981c-2.005 1.915-5.248-.073-4.452-2.728L20.123 29.8h-8.97c-2.894 0-4.725-3.105-3.326-5.638z",clipRule:"evenodd"})}),n4=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",...n,children:(0,a.jsx)("path",{fill:"#0A0A0A",fillRule:"evenodd",d:"M38 9.2H10a.8.8 0 0 0-.8.8v28a.8.8 0 0 0 .8.8h2.666c1.371-4.75 4.007-8.06 7.617-10.276 3.747-2.3 8.434-3.357 13.575-3.814a1.6 1.6 0 0 1 .284 3.188c-4.939.439-9.052 1.43-12.185 3.354-2.683 1.647-4.728 4.026-5.937 7.548H27a1.6 1.6 0 0 1 0 3.2H10a4 4 0 0 1-4-4V10a4 4 0 0 1 4-4h28a4 4 0 0 1 4 4v12a1.6 1.6 0 0 1-3.2 0V10a.8.8 0 0 0-.8-.8m4.09 20.433c-.773-2.09-3.728-2.09-4.501 0l-.453 1.224a4.4 4.4 0 0 1-2.6 2.6l-1.224.453c-2.09.773-2.09 3.728 0 4.502l1.224.453a4.4 4.4 0 0 1 2.6 2.6l.453 1.223c.773 2.09 3.728 2.09 4.502 0l.453-1.224a4.4 4.4 0 0 1 2.6-2.6l1.223-.452c2.09-.774 2.09-3.729 0-4.502l-1.224-.453a4.4 4.4 0 0 1-2.6-2.6zm-5.748 6.528a7.6 7.6 0 0 0 3.498-3.498 7.6 7.6 0 0 0 3.497 3.498 7.6 7.6 0 0 0-3.497 3.497 7.6 7.6 0 0 0-3.498-3.497M17 20a3 3 0 1 0 0-6 3 3 0 0 0 0 6",clipRule:"evenodd"})}),n5=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",...n,children:(0,a.jsx)("path",{fill:"#0A0A0A",fillRule:"evenodd",d:"M28.574 10.026a1.6 1.6 0 0 0 1.6 1.6h2.163v2.163a1.6 1.6 0 0 0 3.2 0v-2.163H37.7a1.6 1.6 0 0 0 0-3.2h-2.163V6.263a1.6 1.6 0 1 0-3.2 0v2.163h-2.163a1.6 1.6 0 0 0-1.6 1.6M11.453 11.92 14.28 9.09a.8.8 0 0 1 1.132 0l4.525 4.526-3.96 3.96-4.525-4.526a.8.8 0 0 1 0-1.131m29.415 22.627L22.201 15.88l-3.96 3.96L36.91 38.507a.8.8 0 0 0 1.131 0l2.828-2.829a.8.8 0 0 0 0-1.131M12.018 6.828a4 4 0 0 1 5.657 0l25.456 25.456a4 4 0 0 1 0 5.657l-2.828 2.828a4 4 0 0 1-5.657 0L9.19 15.315a4 4 0 0 1 0-5.657zM2.611 27.783a1.6 1.6 0 0 0 1.6 1.6h1.973v1.974a1.6 1.6 0 0 0 3.2 0v-1.974h1.974a1.6 1.6 0 0 0 0-3.2H9.384V24.21a1.6 1.6 0 0 0-3.2 0v1.973H4.211a1.6 1.6 0 0 0-1.6 1.6m11.821 10.713a1.6 1.6 0 1 1 0-3.2h1.034v-1.033a1.6 1.6 0 0 1 3.2 0v1.033h1.033a1.6 1.6 0 0 1 0 3.2h-1.033v1.033a1.6 1.6 0 0 1-3.2 0v-1.033z",clipRule:"evenodd"})}),n9=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",...n,children:(0,a.jsx)("path",{fill:"#0A0A0A",fillRule:"evenodd",d:"M24.787 4.608a1.6 1.6 0 0 0-1.628.03l-.632.39q-.06.036-.118.08l-.012.008-.06.044q-.085.061-.264.182c-.236.16-.592.392-1.05.665a27.6 27.6 0 0 1-3.854 1.9l-.011.005c-1.482.604-3.225.94-4.647 1.12a27 27 0 0 1-2.218.188l-.124.004H8.998a1.6 1.6 0 0 0-1.6 1.6V27c0 1.784 1.018 3.7 2.22 5.383 1.254 1.756 2.93 3.556 4.668 5.166 1.742 1.613 3.593 3.076 5.225 4.148.814.534 1.602.99 2.313 1.317.661.304 1.439.586 2.174.586.736 0 1.514-.282 2.175-.586.711-.328 1.498-.783 2.313-1.317 1.632-1.072 3.483-2.535 5.225-4.148 1.739-1.61 3.413-3.41 4.668-5.166 1.202-1.683 2.22-3.6 2.22-5.383V10.824a1.6 1.6 0 0 0-1.6-1.6h-.59c-.094-.002-1.053-.025-2.367-.192-1.411-.18-3.138-.515-4.621-1.12l-.021-.008a41 41 0 0 1-5.77-2.813l-.08-.049-.018-.01-.003-.003-.055-.032zm-.92 3.385.177-.122q.12.072.31.181a44.478 44.478 0 0 0 5.87 2.828c2.607 1.06 5.632 1.394 7.174 1.498V27c0 .716-.482 1.924-1.623 3.523-1.09 1.526-2.603 3.163-4.239 4.678-1.633 1.512-3.345 2.861-4.806 3.82-.733.482-1.375.847-1.895 1.086-.259.12-.467.198-.626.245-.13.038-.196.046-.21.048a1.3 1.3 0 0 1-.211-.048 5 5 0 0 1-.626-.245c-.52-.239-1.162-.604-1.895-1.085-1.461-.96-3.173-2.309-4.806-3.821-1.636-1.515-3.149-3.152-4.239-4.678-1.141-1.599-1.624-2.807-1.624-3.523V12.41q.164-.008.382-.021a31 31 0 0 0 1.933-.183c1.541-.195 3.595-.574 5.447-1.328a31 31 0 0 0 4.3-2.122c.517-.307.924-.572 1.206-.763M32.13 20.13a1.6 1.6 0 0 0-2.263-2.262l-6.869 6.868-3.868-3.868a1.6 1.6 0 0 0-2.263 2.262l5 5a1.6 1.6 0 0 0 2.263 0z",clipRule:"evenodd"})});let en=()=>{let{t:n}=(0,c.Z)("index"),e=(0,A.useRef)([{icon:(0,a.jsx)(n6,{}),title:n("restore-part1 title1"),desc:n("restore-part1 desc1")},{icon:(0,a.jsx)(n4,{}),title:n("restore-part1 title2"),desc:n("restore-part1 desc2")},{icon:(0,a.jsx)(n5,{}),title:n("restore-part1 title3"),desc:n("restore-part1 desc3")},{icon:(0,a.jsx)(n9,{}),title:n("restore-part1 title4"),desc:n("restore-part1 desc4")}]),i=(0,A.useRef)({before:t(79699).Z.src,after:t(93372).Z.src});return(0,a.jsxs)(nZ,{className:"restoration",title:n("restore-part1 h2"),children:[(0,a.jsx)(nY,{children:e.current.map((n,e)=>(0,a.jsxs)(nG,{children:[(0,a.jsxs)(nq,{children:[n.icon,(0,a.jsx)(n$,{children:n.title})]}),(0,a.jsx)(n0,{children:n.desc})]},e))}),(0,a.jsx)(nf.z,{...i.current,onlyHandleDraggable:!0})]})},ee=[{ratio:1,image:[t(31899).Z.src,t(90458).Z.src]},{ratio:1,image:[t(24892).Z.src,t(89811).Z.src]},{ratio:1,image:[t(20915).Z.src,t(31752).Z.src]}],et=[{ratio:1,image:[t(45705).Z.src,t(61053).Z.src]},{ratio:1,image:[t(86631).Z.src]},{ratio:1,image:[t(62176).Z.src]}];var ei=n=>{let{isRestoration:e}=n,{t}=(0,c.Z)("index"),i=(0,h.Z)(n=>{R.T.emit(U.yk,n)}),r=(0,A.useMemo)(()=>{let n=e?et:ee;return[{title:e?t("restore-part2 h2"):t("pe-part2 h2"),description:e?t("restore-part2 h2 desc"):t("pe-part2 h2 desc"),buttonContent:e?t("restore-button"):t("pe-part2 h2 button"),data:{before:n[0].image[0],after:n[0].image[1],ratio:n[0].ratio}},{title:e?t("restore-part3 h2"):t("pe-part3 h2"),description:e?t("restore-part3 h2 desc"):t("pe-part3 h2 desc"),buttonContent:e?t("restore-button"):t("pe-part3 h2 button"),data:{before:n[1].image[0],after:n[1].image[1],ratio:n[1].ratio}},{title:e?t("restore-part4 h2"):t("pe-part4 h2"),description:e?t("restore-part4 h2 desc"):t("pe-part4 h2 desc"),buttonContent:e?t("restore-button"):t("pe-part4 h2 button"),data:{before:n[2].image[0],after:n[2].image[1],ratio:n[2].ratio}}]},[e]),o=(0,A.useMemo)(()=>{let n=[{header:e?t("restore-faq q1"):t("pe-faq q1"),content:e?t("restore-faq a1"):t("pe-faq a1")},{header:e?t("restore-faq q2"):t("pe-faq q2"),content:e?t("restore-faq a2"):t("pe-faq a2")},{header:e?t("restore-faq q3"):t("pe-faq q3"),content:e?t("restore-faq a3"):t("pe-faq a3")}];return e||(n.push({header:t("pe-faq q4"),content:t("pe-faq a4")}),n.push({header:t("pe-faq q5"),content:t("pe-faq a5")})),e&&n.push({header:t("restore-faq q4"),content:t("restore-faq a4")}),n},[e]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)(n3(),{children:[(0,a.jsx)("title",{children:e?t("restore-seo title"):t("pe-seo title")}),(0,a.jsx)("meta",{name:"description",content:e?t("restore-meta desc"):t("pe-meta desc")})]}),!e&&(0,a.jsx)(n1,{}),e&&(0,a.jsx)(en,{}),r.map((n,e)=>(0,a.jsx)(ng.Z,{onButtonPress:()=>{(0,n2.k3)()},title:n.title,description:n.description,buttonContent:n.buttonContent,reverse:e%2==1,showCaseContent:n.data.after?(0,a.jsx)(nf.z,{...n.data,onlyHandleDraggable:!0,deepOperation:()=>i(n.data)}):(0,a.jsx)(n8.N,{className:"img-shower",src:n.data.before})},n.data.before)),!e&&(0,a.jsx)(nC,{}),(0,a.jsx)(nm.Z,{title:e?t("restore-faq h2"):t("pe-faq h2"),description:e?t("restore-faq h2 desc"):t("pe-faq h2 desc"),accordionList:o}),(0,a.jsx)(n_.Z,{onButtonPress:()=>{(0,n2.k3)(),window.requestAnimationFrame(()=>{let n=document.querySelector("#pica-enhance-upload-btn");n.click()})},title:e?t("restore-banner title"):t("pe-banner title"),description:e?t("restore-banner description"):t("pe-banner description"),buttonTitle:e?t("restore-banner button"):t("pe-banner button")})]})};let er=n=>{let e=n.filter(n=>n.status===nh.D.SUCCESS)||[],t=n.filter((e,t)=>{var i;return[nh.D.UPLOAD_FAILED,nh.D.PRELOAD_FAILED].includes(null===(i=n[t])||void 0===i?void 0:i.status)}),i=!!(n.length>0&&n.filter(n=>!n||n.status!==nh.D.SUCCESS).length>0),r=!!(n.length>0&&n.filter(n=>n.status===nh.D.UPLOADING).length>0),o=!!(n.length>0&&n.every(n=>n.status===nh.D.SUCCESS)),a=n.length>0&&n.every(n=>n.status&&[nh.D.SUCCESS,nh.D.UPLOAD_FAILED,nh.D.PRELOAD_FAILED].includes(n.status)),A=a&&!!n.find(n=>[nh.D.UPLOAD_FAILED,nh.D.PRELOAD_FAILED].includes(n.status)),l=a&&!!n.find(n=>(null==n?void 0:n.status)===nh.D.SUCCESS),s=(null==n?void 0:n.length)>1,c=e.length>1;return{uploadedFilesSuccess:e,uploadedFilesFailed:t,isUploadInProgressOrFailed:i,isUploadInProgress:r,isAllUploadSucceeded:o,isUploadFinished:a,hasUploadError:A,isUploadBatch:s,isGenerateBatch:c,hasUploadSuccessed:l}},eo=n=>{window.history.replaceState(null,"",n.pathname)},ea=n=>n?"restore-h1":"pe-h1",eA=n=>n?"restore-h1 desc":"pe-h1 desc";var el=t(99157),es=t(66797);let ec={leading:!1,trailing:!0,maxWait:300};var ed=function(n){let{hasPendingGenerateFile:e,isRestoration:t,onReset:i}=n,r=!t&&e,o=(0,el.useRouter)(),{t:a}=(0,c.Z)("index");(0,A.useEffect)(()=>{let n=n=>{if(r&&!n.includes("photo-enhancer")){let e=a("leaving_will_cancel_the_upload_continue?");window.confirm(e)?(o.events.emit("routeChangeComplete",n),i()):o.push(o.asPath)}};return o.events.on("routeChangeStart",n),()=>{o.events.off("routeChangeStart",n)}},[r]),(0,A.useEffect)(()=>{let n=n=>{r&&(n.preventDefault(),n.returnValue=a("batch-leaving_will_cancel_the_upload_continue?"))};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}},[r]),(0,A.useEffect)(()=>{let n=0,e=e=>{n=e.touches[0].clientY},t=(0,es.Z)(e=>{if(window.scrollY>0||!r)return;let t=e.touches[0].clientY;if(t-n>50){let n=a("leaving_will_cancel_the_upload_continue?");window.confirm(n)?window.location.reload():e.preventDefault()}},200,ec),i=n=>{t(n)};return window.addEventListener("touchstart",e,{passive:!0}),window.addEventListener("touchmove",i,{passive:!1}),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i),t.cancel()}},[r])},eu=t(36678);let eh=n=>{let{uploadedFiles:e}=n;return e.length>0};var ep=n=>{let{uploadedFiles:e,firstImagePrepareInfo:t,setUploaderCloseStatus:i,creditCheck:r,setUploadedFiles:o,startBatchGenerate:a,startGenerate:l,isRestoration:s,isUploadBatch:d,isGenerateBatch:u,isAllUploadSucceeded:h,setHasPendingGenerateFile:p,errorHook:g}=n,{currentCreditCount:f}=(0,eu.s)(),{t:m}=(0,c.Z)("index"),v=async(n,t)=>{var o;if(!eh({uploadedFiles:e})){n&&g(m("1_photo_upload_failed"));return}i(!0);let a=null!==(o=null==t?void 0:t.isRetry)&&void 0!==o&&o;return!a||await r(e.length,f)},x=async n=>{let t=await v(!1,n);t&&(p(!1),a((0,ni.L9)(e)))},b=async n=>{let i=await v(!0,n);i&&l({imageData:e[0].imageUrl||(null==t?void 0:t.formData)||(null==t?void 0:t.src)||"",originalFileName:e[0].file.name,isRestoration:s,onUploadSuccess:n=>o(e=>e.map(e=>e.imageUrl?e:{...e,imageUrl:n,status:nh.D.SUCCESS})),onStartEnhance:()=>p(!1)})},w=n=>{u?x(n):b()};return(0,A.useEffect)(()=>{if(t&&(null==e?void 0:e.length)===1){b();return}},[t]),(0,A.useEffect)(()=>{d&&h&&(null==e?void 0:e.length)>0&&w()},[h]),{handleBatchGeneration:x,handleSingleGeneration:b,handleGeneration:w}},eg=t(74456);function ef(){let n=(0,g._)(["\n        display: none;\n        /* height: 70vh;\n        width: 100%; */\n      "]);return ef=function(){return n},n}function em(){let n=(0,g._)(["\n          /* width: 100%;\n          height: 30vh; */\n        "]);return em=function(){return n},n}function ev(){let n=(0,g._)(["\n          width: 100%;\n          height: 100%;\n          transform: none;\n        "]);return ev=function(){return n},n}function ex(){let n=(0,g._)(["\n            height: 100%;\n          "]);return ex=function(){return n},n}function eb(){let n=(0,g._)(["\n    padding: 0;\n    width: 100%;\n  "]);return eb=function(){return n},n}function ew(){let n=(0,g._)(["\n  position: relative;\n  box-sizing: border-box;\n  padding: 0px var(--spacing-medium, 28px);\n  &.preview-mode {\n    .sample-holder {\n      width: 420px;\n      visibility: hidden;\n      opacity: 0;\n      ","\n    }\n    /* .previewer-holder {\n      height: 100%;\n    } */\n    &.horizontal {\n      .sample-holder {\n        width: 626px;\n        ","\n      }\n      .previewer-holder {\n        width: 626px;\n        ","\n        .pica-diff-image {\n          ","\n        }\n      }\n    }\n  }\n  ","\n"]);return ew=function(){return n},n}function eE(){let n=(0,g._)(["\n    width: 100%;\n    transition-property: all;\n    padding: var(--spacing-small) var(--spacing-normal) var(--spacing-xsmall) var(--spacing-normal);\n    box-sizing: border-box;\n  "]);return eE=function(){return n},n}function eC(){let n=(0,g._)(["\n      height: 54.47vh;\n    "]);return eC=function(){return n},n}function e_(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 420px;\n  transition: 0.6s ease-out;\n  transition-property: width;\n  box-sizing: border-box;\n  gap: var(--spacing-normal, 16px);\n  ","\n  .pica-diff-image {\n    width: 100%;\n    height: 622px;\n    ","\n  }\n"]);return e_=function(){return n},n}function ez(){let n=(0,g._)(["\n      max-height: calc(100vh - 250px);\n    "]);return ez=function(){return n},n}function eO(){let n=(0,g._)(["\n    top: 0;\n    left: 0;\n    width: 100%;\n    min-height: 30vh;\n    height: 100%;\n    max-height: calc(100vh - 225px);\n    position: relative;\n    transform: none;\n\n    &.previewer-holder-batch {\n      max-height: 100%;\n    }\n  "]);return eO=function(){return n},n}function eB(){let n=(0,g._)(["\n  transition: 0.6s ease-out;\n  transition-property: all;\n  position: absolute;\n  width: 420px;\n  max-height: ",";\n  left: var(--spacing-normal);\n  top: 50%;\n  transform: translateY(-50%);\n\n  &.previewer-holder-batch {\n    max-height: calc(100% - 70px);\n\n    ","\n  }\n\n  ","\n"]);return eB=function(){return n},n}function eD(){let n=(0,g._)(["\n    height: 100%;\n  "]);return eD=function(){return n},n}function eI(){let n=(0,g._)(["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  max-height: ",";\n  border-radius: var(--spacing-normal);\n  border: 1px solid var(--colors-content_opacity_08, rgba(10, 10, 10, 0.08));\n  box-sizing: border-box;\n  overflow: hidden;\n  ","\n"]);return eI=function(){return n},n}function ey(){let n=(0,g._)(["\n    z-index: 1;\n    width: 8.533vw;\n    height: 8.533vw;\n    left: var(--spacing-small);\n    top: var(--spacing-small);\n  "]);return ey=function(){return n},n}function ej(){let n=(0,g._)(["\n  position: absolute;\n  display: flex;\n  top: var(--spacing-small);\n  left: var(--spacing-normal);\n  background: var(--color-colors-blackopacity20);\n  width: 32px;\n  height: 32px;\n  z-index: 2;\n  opacity: 1;\n  cursor: pointer;\n  &:hover {\n    background: var(--color-colors-blackopacity50);\n  }\n  &.hide {\n    opacity: 0;\n  }\n  ","\n"]);return ej=function(){return n},n}function ek(){let n=(0,g._)(["\n    z-index: 1;\n    width: 8.533vw;\n    height: 8.533vw;\n    right: var(--spacing-small);\n    top: var(--spacing-small);\n  "]);return ek=function(){return n},n}function eZ(){let n=(0,g._)(["\n  position: absolute;\n  display: flex;\n  top: var(--spacing-small);\n  right: var(--spacing-normal);\n  background: var(--color-colors-blackopacity20);\n  width: 32px;\n  height: 32px;\n  z-index: 2;\n  opacity: 1;\n  &:hover {\n    background: var(--color-colors-blackopacity50);\n  }\n  &.hide {\n    opacity: 0;\n  }\n  &.active {\n    svg {\n      path {\n        stroke: var(--color-colors-warncontent);\n      }\n    }\n  }\n  ","\n  svg {\n    path {\n      stroke: var(--color-colors-whitesolid);\n      stroke-width: 1px;\n    }\n  }\n"]);return eZ=function(){return n},n}function eS(){let n=(0,g._)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  "]);return eS=function(){return n},n}function eQ(){let n=(0,g._)(["\n      min-height: 30vh;\n      height: 100%;\n      max-height: 70vh;\n    "]);return eQ=function(){return n},n}function eP(){let n=(0,g._)(["\n  ","\n  &.is-ready {\n    opacity: 1;\n  }\n  opacity: 0;\n  user-select: none;\n  transition: opacity 0.3s ease-out;\n  .pica-diff-image {\n    ","\n  }\n"]);return eP=function(){return n},n}function eR(){let n=(0,g._)(["\n  color: var(--color-colors-brandcontent);\n  display: inline-block;\n  margin-right: var(--spacing-xsmall);\n"]);return eR=function(){return n},n}let eU=f.ZP.div.withConfig({componentId:"sc-9e70212f-0"})(ew(),m.BC.mobile(ef()),m.BC.mobile(em()),m.BC.mobile(ev()),m.BC.mobile(ex()),m.BC.mobile(eb())),eM=f.ZP.div.withConfig({componentId:"sc-9e70212f-1"})(e_(),m.BC.mobile(eE()),m.BC.mobile(eC())),eL=f.ZP.div.withConfig({componentId:"sc-9e70212f-2"})(eB(),n=>{let{isVertical:e}=n;return e?"663px":"100%"},m.BC.mobile(ez()),m.BC.mobile(eO())),eF=f.ZP.div.withConfig({componentId:"sc-9e70212f-3"})(eI(),n=>{let{isVertical:e}=n;return e?"663px":"100%"},m.BC.mobile(eD()));(0,f.ZP)(eg.k).withConfig({componentId:"sc-9e70212f-4"})(ej(),m.BC.mobile(ey())),(0,f.ZP)(eg.k).withConfig({componentId:"sc-9e70212f-5"})(eZ(),m.BC.mobile(ek())),f.ZP.div.withConfig({componentId:"sc-9e70212f-6"})(eP(),m.BC.mobile(eS()),m.BC.mobile(eQ())),f.ZP.span.withConfig({componentId:"sc-9e70212f-7"})(eR());var eN=t(10449),eH=t(66141),eT=t(90317),eV=t(2872),eW=t(95206);function eJ(){let n=(0,g._)(["\n      padding: var(--spacing-normal);\n      background-color: var(--color-colors-blackopacity20);\n  "]);return eJ=function(){return n},n}function eK(){let n=(0,g._)(["\n      background-color: transparent;\n      min-width: unset;\n      display: block;\n      border-radius: unset;\n    "]);return eK=function(){return n},n}function eX(){let n=(0,g._)(["\n      overflow-y: unset;\n    "]);return eX=function(){return n},n}function eY(){let n=(0,g._)(["\n  padding: var(--spacing-large) var(--spacing-xlarge);\n  display: none;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n  user-select: none;\n  ","\n  .preview-modal {\n    width: 100%;\n    height: 100%;\n    min-height: 450px;\n    min-width: ","px;\n    background-color: var(--color-colors-bgoverlay);\n    border-radius: var(--spacing-medium);\n    overflow: hidden;\n    ","\n  }\n  &.dropping {\n    .preview-modal {\n      background-color: var(--color-colors-bgoverlaytop);\n    }\n  }\n  &.ready {\n    display: block;\n    opacity: 1;\n    overflow-y: auto;\n    ","\n  }\n"]);return eY=function(){return n},n}function eG(){let n=(0,g._)(["\n      flex-direction: column;\n      gap: ",";\n  "]);return eG=function(){return n},n}function eq(){let n=(0,g._)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n  ","\n"]);return eq=function(){return n},n}function e$(){let n=(0,g._)(["\n    min-width: unset;\n    width: 100%;\n    border-radius: var(--spacing-normal);\n    overflow: hidden;\n    background: transparent;\n    \n    .result-content {\n      &.blur {\n        filter: blur(8px);\n      }\n    }\n  "]);return e$=function(){return n},n}function e0(){let n=(0,g._)(["\n  flex: 1;\n  display: flex;\n  position: relative;\n  min-width: ","px;\n  height: ",";\n  width: 100%;\n  border-radius: 24px;\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n  background: var(--colors-bg_main, #f2f4f5);\n  margin: ",";\n  overflow: hidden;\n\n  ","\n"]);return e0=function(){return n},n}function e1(){let n=(0,g._)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return e1=function(){return n},n}function e2(){let n=(0,g._)(["\n    width: 100%;\n    height: auto;\n    min-width: unset;\n    padding: 0;\n    .title-group {\n      display: none;\n    }\n  "]);return e2=function(){return n},n}function e7(){let n=(0,g._)(["\n  position: relative;\n  padding: var(--spacing-large) var(--spacing-normal) var(--spacing-medium)\n    var(--spacing-normal);\n  box-sizing: border-box;\n  width: 272px;\n  min-width: 272px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  ","\n"]);return e7=function(){return n},n}function e3(){let n=(0,g._)(["\n      background: var(--color-colors-bgripple);\n      top: var(--spacing-small);\n      right: var(--spacing-small);\n      z-index: 1;\n      svg {\n        path {\n          fill: var(--color-colors-whitesolid);\n        }\n      }\n  "]);return e3=function(){return n},n}function e8(){let n=(0,g._)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 32px;\n  top: var(--spacing-normal);\n  right: var(--spacing-normal);\n  background: var(--color-colors-bgmain);\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  &:hover {\n    background: var(--color-colors-bgopacity90);\n  }\n  svg {\n    path {\n      fill: var(--color-colors-contentmain);\n    }\n  }\n  ","\n"]);return e8=function(){return n},n}function e6(){let n=(0,g._)(["\n  margin-top: var(--spacing-xlarge);\n  padding: var(--spacing-normal);\n"]);return e6=function(){return n},n}function e4(){let n=(0,g._)(["\n  font-weight: 590;\n  font-size: var(--font-headline);\n  line-height: var(--font-headline-H);\n  color: var(--color-colors-contentmain);\n"]);return e4=function(){return n},n}function e5(){let n=(0,g._)(["\n  padding: var(--spacing-normal) 0;\n  max-height: 300px;\n  opacity: 1;\n  transition: 0.5s;\n  &.hide {\n    max-height: 0;\n    opacity: 0;\n  }\n"]);return e5=function(){return n},n}function e9(){let n=(0,g._)(["\n  display: flex;\n  padding: var(--spacing-small) 0;\n  justify-content: space-between;\n  align-items: center;\n  font-size: var(--font-body);\n  line-height: var(--font-body-H);\n  color: var(--color-colors-contentsoft);\n  margin-bottom: var(--spacing-small);\n  &:last-child {\n    padding-bottom: var(--spacing-normal);\n    border-bottom: 1px solid var(--color-colors-gray_weak);\n  }\n"]);return e9=function(){return n},n}function tn(){let n=(0,g._)(["\n  position: relative;\n\n  .icon-finish {\n    display: block;\n    height: 24px;\n    width: 24px;\n    opacity: 0;\n    path {\n      transition: all 0.5s;\n    }\n  }\n\n  &.loaded {\n    .icon-finish {\n      opacity: 1;\n      path {\n        stroke-dashoffset: 0;\n      }\n    }\n  }\n"]);return tn=function(){return n},n}function te(){let n=(0,g._)(["\n    padding: 0;\n    .pica-common-button {\n      margin-top:0;\n      font-weight: 590;\n      .pica-common-button__icon {\n        width: calc(var(--spacing-normal) + var(--spacing-xsmall))\n      }\n    }\n  "]);return te=function(){return n},n}function tt(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n\n  &.is-pc {\n    position: absolute;\n    width: 100%;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    background: var(--color-colors-bgoverlay);\n    padding: var(--spacing-medium);\n    z-index: 3;\n  }\n  .pica-common-button {\n    margin-top: var(--spacing-normal);\n    height: 56px;\n  }\n  ","\n"]);return tt=function(){return n},n}function ti(){let n=(0,g._)(["\n    flex-direction: row;\n    gap: var(--spacing-small);\n    margin-top: 0;\n    .pica-common-button--is-disabled {\n      background: var(--color-colors-whiteopacity20);\n      color: var(--color-colors-whiteopacity20);\n      svg {\n        path {\n          fill: var(--color-colors-whiteopacity20) !important;\n        }\n      }\n    }\n  "]);return ti=function(){return n},n}function tr(){let n=(0,g._)(["\n          fill: var(--color-colors-whitesolid);\n        "]);return tr=function(){return n},n}function to(){let n=(0,g._)(["\n      display: none;\n    "]);return to=function(){return n},n}function ta(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: var(--spacing-normal);\n  ","\n  .watermark-btn {\n    width: 100%;\n    &.has-been-watermarked {\n      svg {\n        path {\n          stroke: var(--color-colors-whiteopacity20);\n          fill: unset !important;\n        }\n      }\n    }\n  }\n\n  .download-btn {\n    svg {\n      path {\n        fill: var(--color-colors-contentmain);\n        ","\n      }\n    }\n    &.has-watermark {\n      .pica-common-button__icon {\n        margin: 0 var(--spacing-xsmall);\n      }\n    }\n  }\n  &:before {\n    content: '';\n    display: block;\n    width: 85%;\n    border-top: 1px solid var(--lightmode_main-gray_weak, #f5f5f5);\n    margin: 0 auto;\n    ","\n  }\n"]);return ta=function(){return n},n}function tA(){let n=(0,g._)(["\n    backdrop-filter: none;\n  "]);return tA=function(){return n},n}function tl(){let n=(0,g._)(["\n  &.visible {\n    display: block;\n    z-index: 1;\n  }\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backdrop-filter: blur(8px);\n  ","\n"]);return tl=function(){return n},n}function ts(){let n=(0,g._)(["\n  position: absolute;\n  width: 100%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  .circle-loading__container {\n    width: 64px;\n    height: 64px;\n    margin: 0 auto;\n  }\n"]);return ts=function(){return n},n}function tc(){let n=(0,g._)(["\n  margin-top: var(--spacing-normal);\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--color-colors-whitesolid);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return tc=function(){return n},n}function td(){let n=(0,g._)(["\n  margin-top: var(--spacing-normal);\n  font-size: 12px;\n  color: var(--color-colors-whiteopacity80);\n"]);return td=function(){return n},n}function tu(){let n=(0,g._)(["\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--color-colors-whitesolid);\n  position: absolute;\n  border-radius: 26px;\n  background: var(--color-colors-bgripple);\n  top: var(--spacing-small);\n  left: var(--spacing-small);\n  z-index: 2;\n  padding: 6px 16px;\n"]);return tu=function(){return n},n}let th=(0,f.ZP)(eW.u).withConfig({componentId:"sc-c5dc89f9-0"})(eY(),m.BC.mobile(eJ()),m.C7,m.BC.mobile(eK()),m.BC.mobile(eX())),tp=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-1"})(eq(),m.BC.mobile(eG(),n=>{let{isBatch:e}=n;return e?"0":"var(--spacing-normal)"})),tg=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-2"})(e0(),m.C7-272,n=>{let{isBatch:e}=n;return e?"calc(100% - 8px)":"100%"},n=>{let{isBatch:e}=n;return e?"var(--spacing-normal)":"0"},n=>{let{isBatch:e}=n;return e?"var(--spacing-normal)":"0"},n=>{let{isBatch:e,isMobileStyle:t}=n;return e&&!t?"4px":"0"},m.BC.mobile(e$())),tf=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-3"})(e1()),tm=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-4"})(e7(),m.BC.mobile(e2())),tv=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-5"})(e8(),m.BC.mobile(e3())),tx=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-6"})(e6()),tb=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-7"})(e4()),tw=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-8"})(e5()),tE=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-9"})(e9()),tC=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-10"})(tn()),t_=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-11"})(tt(),m.BC.mobile(te())),tz=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-12"})(ta(),m.BC.mobile(ti()),m.BC.mobile(tr()),m.BC.mobile(to())),tO=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-13"})(tl(),m.BC.mobile(tA())),tB=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-14"})(ts()),tD=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-15"})(tc()),tI=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-16"})(td()),ty=f.ZP.div.withConfig({componentId:"sc-c5dc89f9-17"})(tu());var tj=t(55080),tk=t(50162),tZ=t(99303),tS=t(69628),tQ=t(52800),tP=t(81293);let tR=()=>{let n=(0,A.useRef)(new Map),[,e]=(0,A.useState)(0),{isMobile:t}=(0,nc.ZP)(),[i,r]=(0,A.useState)(!1),o=(0,h.Z)(t=>{let{sourceUrl:i,fileName:o,downloadFileType:a,callback:A,errorCallback:l}=t;n.current.set(i,!0),e(n=>n+1),r(!0),(0,tS.DB)({url:i,name:o||"image",downloadFileType:a,callback:()=>{n.current.delete(i),e(n=>n+1),A&&A(),r(!1)},errorCallback:t=>{n.current.delete(i),e(n=>n+1),l&&l(t),r(!1)}})}),a=(0,h.Z)((n,e,i)=>{r(!0),(0,tQ.H)(n,t)?(0,tS.z0)({downloadDatas:(0,tP.cW)(n),successCallback:()=>{e&&e(),r(!1)},errorCallback:i}):Promise.all(n.map(n=>(0,tS.Fh)({url:n.sourceUrl,name:(0,tS.tO)({sourceType:n.sourceType,originName:n.originalFileName}),downloadFileType:(0,tS.yI)(n.sourceUrl,n.originalFileName)}))).then(()=>{r(!1),e&&e()}).catch(n=>{i&&i(n),r(!1)})}),l=(0,h.Z)(e=>!!e&&(n.current.get(e)||!1));return{download:o,batchDownload:a,downloading:i,isDownloading:l,downloadingMap:n}};var tU=t(10816),tM=n=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...n,children:[(0,a.jsx)("path",{fill:"#125D60",d:"M19 4.6H5a.4.4 0 0 0-.4.4v14c0 .22.18.4.4.4h11a.8.8 0 0 1 0 1.6H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8.8a.8.8 0 0 1-1.6 0V5a.4.4 0 0 0-.4-.4"}),(0,a.jsx)("path",{fill:"#125D60",d:"M18.098 13.064a.8.8 0 0 0-.86-.735c-4.341.344-8.103 1.502-10.054 5.001a.8.8 0 1 0 1.397.78c1.538-2.76 4.562-3.851 8.782-4.186a.8.8 0 0 0 .735-.86M8.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M20.9 16.2v1.2h1.2a.8.8 0 0 1 0 1.6h-1.2v1.2a.8.8 0 1 1-1.6 0V19h-1.2a.8.8 0 1 1 0-1.6h1.2v-1.2a.8.8 0 0 1 1.6 0"})]}),tL=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none",...n,children:(0,a.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.6,d:"m5.5 11 5 5 9-9"})}),tF=t(26187),tN=t(67545),tH=t(74395);let tT=n=>{let{startIndex:e,itemWidth:t,gap:i}=n;return e*t+e*i};var tV=t(98954),tW=t.n(tV);function tJ(){let n=(0,g._)(["\n  ","\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  &.loaded {\n    background: transparent;\n  }\n"]);return tJ=function(){return n},n}let tK=f.ZP.div.withConfig({componentId:"sc-c4f8cfd2-0"})(tJ(),m.hy);function tX(){let n=(0,g._)(["\n  display: flex;\n  gap: ","px;\n  flex-shrink: 0;\n  width: ","px;\n  min-width: ","px;\n\n  overflow-x: hidden;\n  flex-wrap: nowrap; // \n"]);return tX=function(){return n},n}function tY(){let n=(0,g._)(["\n  width: ","px !important;\n  height: ","px !important;\n  object-fit: cover;\n  flex-shrink: 0; // \n  border: var(--spacing-xsmall) solid\n    ",";\n  cursor: pointer;\n  box-sizing: border-box;\n  object-fit: cover;\n  border-radius: 8px;\n  user-select: none;\n"]);return tY=function(){return n},n}function tG(){let n=(0,g._)([" \n    padding-top: 12px;\n    padding-bottom: 24px;\n  "]);return tG=function(){return n},n}function tq(){let n=(0,g._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 13px 0px;\n  ","\n"]);return tq=function(){return n},n}function t$(){let n=(0,g._)(["\n  background: none;\n  border: none;\n  font-size: 24px;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    cursor: ",";\n    color: ",";\n  }\n\n  &:last-child {\n    transform: rotate(180deg);\n  }\n"]);return t$=function(){return n},n}let t0=f.ZP.div.withConfig({componentId:"sc-54ec3ace-0"})(tX(),n=>n.gap,n=>n.visibleCount*n.itemWidth+(n.visibleCount-1)*n.gap,n=>n.visibleCount*n.itemWidth+(n.visibleCount-1)*n.gap),t1=(0,f.ZP)(n=>{let{wrapperStyle:e={},wrapperClassName:t="",src:i,width:r,height:o,alt:l="",placeholder:c="blur",className:d="",priority:u=!1,onClick:h,...p}=n,[g,f]=(0,A.useState)(!1);return(0,a.jsx)(tK,{style:e,className:s()(t,{loaded:(g||u)&&i}),onClick:h,children:i?(0,a.jsx)(tW(),{src:i,width:r,height:o,alt:l,placeholder:u?"empty":c,blurDataURL:u?"":"data:image/gif;base64,R0lGODlhAQABAPAAAN3b3f///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",onLoadingComplete:()=>f(!0),loading:u?"eager":"lazy",...p,className:s()("img",d)}):(0,a.jsx)("div",{style:{width:r,height:o}})})}).withConfig({componentId:"sc-54ec3ace-1"})(tY(),n=>n.itemWidth,n=>n.itemWidth,n=>n.isActive?"var(--color-colors-brandmain)":"transparent"),t2=f.ZP.div.withConfig({componentId:"sc-54ec3ace-2"})(tq(),m.BC.mobile(tG())),t7=f.ZP.button.withConfig({componentId:"sc-54ec3ace-3"})(t$(),n=>n.disabled?"not-allowed":"pointer",n=>n.disabled?"#ccc":"#333");var t3=t(21106),t8=n=>{let{images:e,maxVisible:t=10,selectedIndex:i,onSelect:r,itemWidth:o=56,iconColor:l="#0A0A0A"}=n,[s,c]=(0,A.useState)(0),d=(0,A.useRef)(null),u=Math.min(t,e.length),h=s+u-1,[p,g]=(0,A.useState)([]),f=e.length>t,m=n=>{var e;null===(e=d.current)||void 0===e||e.scrollTo({left:tT({startIndex:n,itemWidth:o,gap:2}),behavior:"smooth"})},v=n=>{if(r(n),n>=h-1&&n<e.length-1){let t=Math.min(e.length-u,s+(n-h+1));c(t)}else if(n<=s+1&&n>0){let e=Math.max(0,s-(s+1-n));c(e)}},x=n=>{let i=s;if("left"===n)i=Math.max(0,s-t);else{let n=Math.max(0,e.length-u);i=Math.min(n,s+t);let r=e.length-(i+u);r<0&&(i+=r)}c(i)};(0,A.useEffect)(()=>{if(i<s||i>h){let n=Math.max(0,Math.min(i-Math.floor(u/2),e.length-u));c(n)}},[i]),(0,A.useEffect)(()=>{m(s)},[s]);let b=()=>{let n=e.length-1,t=Math.max(0,s-1),i=Math.min(n,h+1),r=[];for(let n=t;n<=i;n++)r.push(n);r.length!==p.length&&g(n=>[...n,...r])};return(0,A.useEffect)(()=>{b()},[s]),(0,A.useEffect)(()=>{b()},[e]),(0,a.jsxs)(t2,{children:[f&&(0,a.jsx)(t7,{onClick:()=>x("left"),disabled:0===s,children:(0,a.jsx)(t3.Z,{color:l})}),(0,a.jsx)(t0,{ref:d,visibleCount:u,itemWidth:o,gap:2,children:e.map((n,e)=>(0,a.jsx)(t1,{src:p.includes(e)?n:"",isActive:e===i,onClick:()=>v(e),"aria-label":"image ".concat(e+1),itemWidth:o,alt:"image ".concat(e+1),width:o,height:o,onDragStart:n=>n.preventDefault(),wrapperStyle:{width:o,height:o,overflow:"unset",borderRadius:"8px"}},e))}),f&&(0,a.jsx)(t7,{onClick:()=>x("right"),disabled:s>=e.length-u,children:(0,a.jsx)(t3.Z,{color:l})})]})};function t6(){let n=(0,g._)(["\n  display: flex;\n"]);return t6=function(){return n},n}function t4(){let n=(0,g._)(["\n  display: flex;\n  color: var(--color-colors-contentsoft);\n  font-size: var(--font-caption);\n  line-height: var(--font-caption-H);\n  align-items: center;\n  justify-content: space-between;\n"]);return t4=function(){return n},n}function t5(){let n=(0,g._)(["\n  display: flex;\n  width: 32px;\n  height: 32px;\n  z-index: 2;\n  background: transparent;\n"]);return t5=function(){return n},n}function t9(){let n=(0,g._)(["\n  ","\n  &.active {\n    svg {\n      path {\n        stroke: var(--color-colors-warncontent);\n        stroke-opacity: 1;\n      }\n      rect {\n        fill: var(--color-colors-warncontent);\n        fill-opacity: 1;\n      }\n    }\n  }\n"]);return t9=function(){return n},n}function ie(){let n=(0,g._)(["\n  ","\n  transform: rotate(180deg) scale(-1,1);\n  &.active {\n    svg {\n      path {\n        stroke: var(--color-colors-positivecontent);\n        stroke-opacity: 1;\n      }\n      rect {\n        fill: var(--color-colors-positivecontent);\n        fill-opacity: 1;\n      }\n    }\n  }\n"]);return ie=function(){return n},n}let it=f.ZP.div.withConfig({componentId:"sc-9c756a2e-0"})(t6()),ii=f.ZP.div.withConfig({componentId:"sc-9c756a2e-1"})(t4()),ir=(0,f.iv)(t5()),io=(0,f.ZP)(eg.k).withConfig({componentId:"sc-9c756a2e-2"})(t9(),ir),ia=(0,f.ZP)(eg.k).withConfig({componentId:"sc-9c756a2e-3"})(ie(),ir);var iA=t(82448),il=n=>{var e,t;let{saPublicParams:i,$feedbackContainer:r,$operatorPcContainer:o,$operatorBtnPcContainer:l,isBatch:d}=n,{t:u}=(0,c.Z)("index"),[p,g]=(0,A.useState)(!1),[f,m]=(0,A.useState)(!1),{isMobileStyle:v}=(0,tN.S)(),x=(0,eH.xv)(),{clickTrack:b}=(0,G.T)(),w=(0,h.Z)(()=>{p||(g(!0),m(!1),b({action:"dislike",...i}))}),E=(0,h.Z)(()=>{f||(m(!0),g(!1),b({action:"like",...i}))});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ii,{ref:r,children:[(0,a.jsx)("span",{children:u(d?"like_these_results":"like_the_result")}),(0,a.jsxs)(it,{children:[(0,a.jsx)(io,{className:s()("",{active:p}),icon:(0,a.jsx)(iA.Z,{}),onPress:w}),(0,a.jsx)(ia,{className:s()("",{active:f}),icon:(0,a.jsx)(iA.Z,{}),onPress:E})]})]}),(0,a.jsx)(a.Fragment,{children:!v&&(0,a.jsx)(eT.p,{modalZIndex:101,options:x,visible:p,saPublicParams:i,tipsPosition:"absolute",getTipsContainer:()=>o.current,tipsStyle:{width:"90%",boxSizing:"border-box",bottom:(null!==(t=null===(e=l.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:200)+16}})})]})},is=t(8138),ic=t(50196),id=function(n){let{downloadDatas:e,onTrack:t}=n,i=e[0],{downloading:r,download:o,batchDownload:A,downloadingMap:l}=tR(),s=(0,h.Z)(n=>{null==t||t(),A(e)});return 1===e.length?(0,a.jsx)(is.Z,{preload:!0,url:i.sourceUrl,name:(0,tS.tO)({sourceType:i.sourceType,originName:i.originalFileName}),fileType:ic.cH.png,onStart:()=>{null==t||t(),l.current.set(i.sourceUrl,!0)},onFinish:()=>{l.current.delete(i.sourceUrl)},render:e=>(0,a.jsx)(eg.T,{...n,isLoading:e.loading,onPress:e.onDownload,children:n.children})}):(0,a.jsx)(eg.T,{...n,isLoading:r||n.isLoading,onPress:s,children:n.children})},iu=t(30779),ih=n=>{let{proxyResults:e,waterMarkRemoving:t,proxyResult:i,isBatch:r,saPublicParams:o,uploadedFiles:l}=n,{t:d}=(0,c.Z)("index"),{isMobileStyle:u}=(0,tN.S)(),{clickTrack:p}=(0,G.T)(),g=e.map((n,e)=>{var t,i;return{sourceUrl:n.after,sourceType:K.$T.UPSCALE,originalFileName:null===(t=l[e])||void 0===t?void 0:null===(i=t.file)||void 0===i?void 0:i.name}}),f=(0,h.Z)(()=>{p({action:"download",...o})}),m=(0,A.useMemo)(()=>u?{className:s()("download-btn",{"has-watermark":i.hasWatermark}),style:{width:i.hasWatermark?"auto":"100%"},isWhiteOpacity20:!0,isDisabled:t,icon:(0,a.jsx)(iu.Z,{}),iconFillFollowTheme:!0,onTrack:f,downloadDatas:g}:{className:"download-btn",isDisabled:t,icon:(0,a.jsx)(iu.Z,{}),iconFillFollowTheme:!0,onTrack:f,downloadDatas:g},[i.hasWatermark]);return u?(0,a.jsx)(id,{...m,children:!i.hasWatermark&&d((0,ni.SZ)(r))}):(0,a.jsx)(id,{...m,children:d((0,ni.SZ)(r))})};let ip=(n,e)=>!n.hasWatermark;var ig=t(28857);function im(){let n=(0,g._)(["\n    border-radius: var(--spacing-normal);\n  "]);return im=function(){return n},n}function iv(){let n=(0,g._)(["\n  width: 100%;\n  height: ",";\n  overflow: hidden;\n  border-top-right-radius: ",";\n\n  ","\n"]);return iv=function(){return n},n}let ix=f.ZP.div.withConfig({componentId:"sc-b26cfd32-0"})(iv(),n=>{let{isBatch:e}=n;return e?"calc(100% - 8px)":"100%"},n=>{let{isBatch:e}=n;return e?"var(--spacing-normal)":"0"},m.BC.mobile(im()));class ib{addTask(n){this.queue.push(n),this.run()}run(){if(this.runningCount===this.max||0===this.queue.length)return;this.runningCount++;let n=this.queue.shift(),{task:e,key:t,onBeforeRun:i}=n;null==i||i(),e().then(n=>{this.runningCount--,this.run()})}clearAllTasks(){this.queue=[]}constructor(n){this.max=n,this.runningCount=0,this.queue=[]}}var iw=function(n){return new Promise((e,t)=>{let i=new Image;i.src=n,i.onload=()=>{e({width:i.width,height:i.height})},i.onerror=()=>{t("")}})};let iE=(n,e)=>({start:Math.max(0,n-5),end:Math.min(e-1,n+5)});var iC=n=>{var e;let{isBatch:t,waterMarkRemoving:i,proxyResult:r,proxyResults:o,saPublicParams:l,setIsResultDiffImageReady:c,prepareInfo:d,activeIndex:u}=n,[h,p]=(0,A.useState)([]);(0,A.useEffect)(()=>{let n=new ib(5),e=async()=>{if(!(null==o?void 0:o.length))return;let{start:e,end:t}=iE(u,o.length),i=o.slice(e,t+1).flatMap((n,e)=>[{key:n.before,priority:e===u?0:1},{key:n.after,priority:e===u?0:1}]).filter((n,e,t)=>t.findIndex(e=>e.key===n.key)===e).filter(n=>!h.find(e=>e.key===n.key)).sort((n,e)=>n.priority-e.priority);for(let{key:e}of i)n.addTask({key:e,task:async()=>{try{let n=e,{width:t,height:i}=await iw(n),r=t>i?1:.5;return p(o=>[...o,{key:e,url:n,width:t,height:i,zoom:r}]),n}catch(n){return console.error("Preload failed:",e),""}}})};return e(),()=>{n.clearAllTasks()}},[o.length,u,null===(e=o[0])||void 0===e?void 0:e.after]);let g=h.find(n=>n.key===(null==r?void 0:r.before)),f=h.find(n=>n.key===(null==r?void 0:r.after)),m=null==g?void 0:g.url,v=null==f?void 0:f.url,x=null==g?void 0:g.zoom,b=null==f?void 0:f.zoom;return(0,a.jsx)(ix,{isBatch:t,children:m&&v&&(0,a.jsx)(ig.I,{className:s()("result-content",{blur:i}),before:null==r?void 0:r.before,after:null==r?void 0:r.after,beforeUrl:m,afterUrl:v,triggerVisible:!i,saParams:l,setResultIsReady:c,beforeMaxZoomPixelRatio:(null==d?void 0:d.imgWidth)>2048?2:4,beforeMinZoom:x,afterMinZoom:b})})};let i_=n=>{let{setUploaderCloseStatus:e,prepareInfo:t}=n,[i,r]=(0,A.useState)(!0),[o,l]=(0,A.useState)(0),{clickTrack:d}=(0,G.T)(),{proxyResults:u,taskId:p,uploadedFiles:g,handleUploadedFiles:f,waterMarkRemoving:m,setProxyResults:v,rmWatermark:x,onDrop:b,resetAll:w,loaddingStatus:E,setErrorReason:C}=(0,A.useContext)(nh.$),{isSafari:_}=(0,nc.ZP)(),{creditChecking:z}=E,O=u[o]||{},B=u.map(n=>n.after),D=u.length>1,[I,y]=(0,A.useState)(!1),[j,k]=(0,A.useState)(!1),Z=(0,A.useRef)(0),S=(0,A.useRef)(null),Q=(0,A.useRef)(null),P=(0,A.useRef)(null),{downloading:R}=tR(),{isMobileStyle:U}=(0,tN.S)(),{t:M}=(0,c.Z)("index"),{isRestoration:L}=(0,A.useContext)(nh.$),F=(0,A.useRef)(null),N=(0,A.useRef)([M("remove_blur"),M("increase_quality"),M("enhance_details")]),H=(0,A.useRef)([M("repaire_creases"),M("reduce_noise"),M("enhance_portraits_skin"),M("refine_details"),M("upscale_to_high_resolution")]),T=(0,h.Z)(()=>{y(!0)}),V=ip(O,D),{dropProps:W,isDropTarget:J}=(0,eV.L)({ref:F,onDrop:b}),K=(0,A.useMemo)(()=>(0,ni.DQ)(_),[_]),X=(0,A.useMemo)(()=>({watermarked:null==O?void 0:O.hasWatermark,source_url:null==O?void 0:O.before,target_url:null==O?void 0:O.after,position_source:L?"restore_task_result":"enhance_task_result",task_type:L?tH.sN.restore:tH.sN.enhance,...(0,ni.CP)({isBatch:D,taskId:p,photoCount:u.length})}),[O,p]),Y=(0,h.Z)(()=>{d({action:"back_btn",...X}),d({action:"close",...X}),e(!1),r(!1)}),q=(0,h.Z)(n=>{w();let e=Array.from(n);f(e)}),$=(0,h.Z)(()=>{d({action:"new_photo",...X})}),nn=(0,h.Z)(async()=>{d({action:"remove_watermark",...X});try{let e=await x(null,{params:{taskId:p,type:D?"batch_upscale":"new_upscale"}});if(D){var n;let{tasks:t}=e;(null===(n=t[0])||void 0===n?void 0:n.noWatermarkImage)&&v(u.map((n,e)=>{var i;return{...n,after:null===(i=t[e])||void 0===i?void 0:i.noWatermarkImage,hasWatermark:!1}}))}else{let{noWatermarkImage:n}=e;n&&v([{...O,after:n,hasWatermark:!1}])}}catch(n){C(M("remove_watermark_failed"))}}),ne=(0,h.Z)((0,es.Z)(()=>{if(P.current&&Q.current){Z.current||(Z.current=P.current.offsetTop);let n=Z.current+P.current.clientHeight;if(n>Q.current.offsetTop){k(!0);return}}k(!1)},300));(0,A.useEffect)(()=>(window.addEventListener("resize",ne),()=>{window.removeEventListener("resize",ne)}),[]),(0,A.useEffect)(()=>{I&&ne()},[I]);let nt=(0,h.Z)(()=>(0,a.jsx)(tw,{className:s()("",{hide:j}),children:(L?H:N).current.map((n,e)=>(0,a.jsxs)(tE,{children:[n,(0,a.jsx)(tC,{className:s()("icon-wrapper",{loaded:!0}),children:(0,a.jsx)(tk.Z,{className:"icon-finish"})})]},e))})),nr=(0,h.Z)(()=>U?(0,a.jsx)(eg.T,{className:s()("watermark-btn",{"has-been-watermarked":O.hasBeenWatermarked}),isWhiteOpacity20:!0,isLoading:m,isDisabled:R||O.hasBeenWatermarked,onPress:nn,icon:O.hasBeenWatermarked?(0,a.jsx)(tL,{}):(0,a.jsx)(tU.Z,{}),iconFillFollowTheme:!O.hasBeenWatermarked&&!(R||O.hasBeenWatermarked),iconStrokeFollowTheme:O.hasBeenWatermarked,children:M((0,ni.uK)(D))}):(0,a.jsx)(eg.T,{isNormal:!0,isLoading:m,isDisabled:R||O.hasBeenWatermarked,onPress:nn,icon:(0,a.jsx)(tU.Z,{}),children:M((0,ni.uK)(D))})),no=(0,h.Z)(()=>U?(0,a.jsx)(t_,{children:(0,a.jsxs)(tz,{children:[(O.hasWatermark||O.hasBeenWatermarked)&&nr(),(0,a.jsx)(ih,{proxyResults:u,proxyResult:O,waterMarkRemoving:m,isBatch:D,saPublicParams:X,uploadedFiles:g})]})}):(0,a.jsxs)(t_,{ref:Q,className:s()("",{"is-pc":!U}),children:[(0,a.jsx)(tZ.I,{onSelect:q,acceptedFileTypes:K,allowsMultiple:!L,children:V&&(0,a.jsx)(eg.T,{isNormal:!J,isBgoverlay:J,isLoading:z,isDisabled:m||R,onPress:$,iconFillFollowTheme:!0,icon:(0,a.jsx)(tM,{}),children:M("start_new")})}),(0,a.jsxs)(tz,{children:[O&&O.hasWatermark&&nr(),(0,a.jsx)(ih,{proxyResults:u,proxyResult:O,waterMarkRemoving:m,isBatch:D,saPublicParams:X,uploadedFiles:g})]})]})),na=(0,h.Z)(()=>(0,a.jsx)(tO,{className:s()("",{visible:m}),children:(0,a.jsxs)(tB,{className:"lottie-loader",children:[(0,a.jsx)(tF.x,{}),(0,a.jsxs)(tD,{children:[M("removeing_watermark"),(0,a.jsx)(tI,{children:M("it_will_take_few_seconds")})]})]})})),nA=(0,h.Z)(()=>D&&B.length>0);return(0,a.jsx)(A.Fragment,{children:(0,a.jsx)(th,{className:s()("enhance-result-modal",{dropping:J,ready:I}),visible:i,isDismissable:!1,children:(0,a.jsxs)(tp,{...W,ref:F,isBatch:D,children:[(0,a.jsxs)(tg,{isBatch:D,isMobileStyle:U,children:[(0,a.jsxs)(tf,{children:[nA()&&U&&(0,a.jsxs)(ty,{children:[o+1,"/",u.length]}),(0,a.jsx)(iC,{isBatch:D,waterMarkRemoving:m,proxyResults:u,proxyResult:O,saPublicParams:X,setIsResultDiffImageReady:T,prepareInfo:t,activeIndex:o}),nA()&&(0,a.jsx)(t8,{images:B,selectedIndex:o,onSelect:l,maxVisible:U?4:10})]}),na()]}),(0,a.jsxs)(tm,{ref:S,children:[(0,a.jsxs)(tx,{className:"title-group",children:[(0,a.jsx)(tb,{children:L?M("photo_repaired"):M("done")}),nt(),(0,a.jsx)(il,{saPublicParams:X,$feedbackContainer:P,$operatorPcContainer:S,$operatorBtnPcContainer:Q,isBatch:D})]}),no()]}),(0,a.jsx)(tv,{onClick:Y,children:(0,a.jsx)(tj.Z,{})})]})})})};function iz(){let n=(0,g._)(["\n    position: fixed;\n\n    &.tips-container-batch {\n      position: absolute;\n      bottom: 10%;\n    }\n  "]);return iz=function(){return n},n}function iO(){let n=(0,g._)(["\n  background: var(--color-colors-bgoverlay);\n  display: flex;\n  opacity: 0;\n  align-items: center;\n  justify-content: center;\n  padding: 12px var(--spacing-normal);\n  color: var(--color-colors-contentmain);\n  font-size: var(--font-subhead);\n  position: absolute;\n  bottom: 10%;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: var(--spacing-small);\n  transition: 0.3s all;\n  &.visible {\n    opacity: 1;\n    z-index: 10;\n  }\n  ","\n"]);return iO=function(){return n},n}let iB=f.ZP.div.withConfig({componentId:"sc-8da974f5-0"})(iO(),m.BC.mobile(iz())),iD=n=>{let{imageLength:e=1,isBatch:t=!1}=n,{t:i}=(0,c.Z)("index"),[r,o]=(0,A.useState)(!1),{isRestoration:l}=(0,A.useContext)(nh.$),d=(0,A.useMemo)(()=>(0,ni.nK)(e,l),[e,l]);return((0,A.useEffect)(()=>{R.T.on(U.rm,()=>{o(!0)})}),(0,A.useEffect)(()=>{r&&setTimeout(()=>{o(!1)},3e3)},[r]),0===d)?null:(0,a.jsx)(iB,{className:s()("tips-container",{visible:r,"tips-container-batch":t}),theme:"dark",children:i((0,ni.L$)(d),{x:d})})};var iI=t(13517),iy=t(32898);function ij(){let n=(0,g._)(["\n  font-size: var(--font-caption-small);\n  color: var(--color-colors-whitesolid);\n  margin: var(--spacing-normal) auto;\n"]);return ij=function(){return n},n}function ik(){let n=(0,g._)(["\n  margin-top: var(--spacing-normal);\n  margin-bottom: var(--spacing-normal);\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--color-colors-whitesolid);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .detail {\n    margin-top: var(--spacing-normal);\n    font-size: 12px;\n  }\n"]);return ik=function(){return n},n}function iZ(){let n=(0,g._)(["\n      display: flex;\n      visibility: hidden;\n    "]);return iZ=function(){return n},n}function iS(){let n=(0,g._)(["\n    max-height: ",";\n  "]);return iS=function(){return n},n}function iQ(){let n=(0,g._)(["\n  &.loaded {\n    display: none;\n    ","\n  }\n  &.just-hide-loading-content {\n    .lottie-loader {\n      display: none;\n    }\n    .preview-upload-img-holder {\n      filter: none;\n    }\n  }\n  display: block;\n  position: relative;\n  width: 100%;\n  ","\n"]);return iQ=function(){return n},n}function iP(){let n=(0,g._)(["\n      width: 28.72vw !important;\n      height: 28.72vw !important;\n    "]);return iP=function(){return n},n}function iR(){let n=(0,g._)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  .lottie-render {\n    width: 100px !important;\n    height: 100px !important;\n    ",";\n  }\n  .pica-common-button {\n    margin: 0 auto;\n  }\n"]);return iR=function(){return n},n}function iU(){let n=(0,g._)(["\n      height: auto;\n    "]);return iU=function(){return n},n}function iM(){let n=(0,g._)(["\n        min-height: 30vh;\n      "]);return iM=function(){return n},n}function iL(){let n=(0,g._)(["\n  position: relative;\n  width: 100%;\n  transform: scale(1.03);\n  filter: blur(8px);\n  min-height: 100px;\n\n  img {\n    -webkit-user-drag: none;\n    width: 100%;\n    height: auto;\n    object-fit: cover;\n    aspect-ratio: 3 / 4 auto;\n    ","\n  }\n  &.horizontal {\n    img {\n      ","\n    }\n  }\n"]);return iL=function(){return n},n}let iF=f.ZP.div.withConfig({componentId:"sc-2c500333-0"})(ij()),iN=f.ZP.div.withConfig({componentId:"sc-2c500333-1"})(ik()),iH=f.ZP.div.withConfig({componentId:"sc-2c500333-2"})(iQ(),m.BC.mobile(iZ()),m.BC.mobile(iS(),n=>{let{isBatch:e}=n;return e?"calc(100vh - 250px)":"calc(100vh - 225px)"})),iT=f.ZP.div.withConfig({componentId:"sc-2c500333-3"})(iR(),m.BC.mobile(iP())),iV=f.ZP.div.withConfig({componentId:"sc-2c500333-4"})(iL(),m.BC.mobile(iU()),m.BC.mobile(iM()));var iW=t(16930);let iJ=u()(()=>Promise.all([t.e(3938),t.e(8831),t.e(9884)]).then(t.bind(t,68831)),{loadableGenerated:{webpack:()=>[68831]},ssr:!1}),iK=A.memo(n=>{let{uploadedFile:e,shouldHideLoadingContainer:t,queueInfo:i,resultAfter:r,prepareInfo:o,imageLength:l}=n,d=l>1,{t:u}=(0,c.Z)("index"),{hasError:p,horizontal:g,taskId:f,isRestoration:m}=(0,A.useContext)(nh.$),{isMobileStyle:v}=(0,tN.S)(),x=(0,W.C)(J.fK),b=(0,W.C)(J.tV),{clickTrack:w,mediaTrack:E}=(0,G.T)(),{subscribeCheckerRecusion:C}=(0,iW.Q)(),_=(0,A.useRef)({renderer:"svg",loop:!0,autoplay:!0,animationData:iI,rendererSettings:{className:"lottie-render"}}),z=(0,h.Z)(()=>{w({action:"speed_up",...(0,ni.CP)({isBatch:d,taskId:f,photoCount:l})}),C({isPaid:!1,url:H.yL,referrer_type:m?tH.sN.restore:tH.sN.enhance})});return(0,a.jsxs)(iH,{className:s()("preview-loading-container",{loaded:t,"just-hide-loading-content":p&&!r}),isBatch:d,children:[(0,a.jsx)(iV,{className:s()("preview-upload-img-holder",{horizontal:g}),children:(0,a.jsx)("img",{src:e||(null==o?void 0:o.src)||"",alt:"loading-placeholder-img"})}),(0,a.jsxs)(iT,{className:"lottie-loader",children:[(0,a.jsx)(iJ,{options:_.current,direction:-1}),v&&!m&&!d&&(0,a.jsxs)(iN,{children:[u((0,ni.wc)(d),{x:l}),!!(null==i?void 0:i.rank)&&(0,a.jsxs)("div",{className:"detail",children:[!x&&u("task_queue_within_minutes",{x:null==i?void 0:i.rank,m:(0,iy.Z)(i.waitTime)}),x&&u("task_priority_within_minutes",{m:(0,iy.Z)(i.waitTime)})]})]}),!v&&!x&&(0,a.jsx)(iF,{children:u("subscribe_and_save_75_of_time")}),!x&&!b&&(0,a.jsx)(eg.T,{isBgripple:!0,onPress:z,size:"small",children:u("speed_up")})]}),(0,a.jsx)(iD,{imageLength:l,isBatch:d})]})}),iX=n=>{let{isLoading:e,uploadedFile:t,resultAfter:i,setUploaderCloseStatus:r,prepareInfo:o,queueInfo:l,imageLength:c}=n,{proxyResults:d}=(0,A.useContext)(nh.$),u=d[0],h=(0,eH.xv)(),[p,g]=(0,A.useState)({}),{isMobileStyle:f}=(0,tN.S)(),m=(0,A.useMemo)(()=>!!((null==o?void 0:o.imgWidth)&&(null==o?void 0:o.imgHeight)&&(null==o?void 0:o.imgWidth)<(null==o?void 0:o.imgHeight)),[o]);(0,A.useEffect)(()=>{(null==u?void 0:u.after)&&n();async function n(){let n;u&&(n=await (0,eN.Up)({file:null==u?void 0:u.after})),g({task_type:"enhance",media_type:"image",watermarked:null==u?void 0:u.hasWatermark,media_url:null==u?void 0:u.after,width:null==n?void 0:n.imgWidth,height:null==n?void 0:n.imgHeight,...(0,ni.CP)({isBatch:!1,taskId:(null==u?void 0:u.id)||"",photoCount:1})})}},[u]);let v=!e&&!!u;return(0,a.jsxs)(A.Fragment,{children:[(0,a.jsxs)(eL,{className:s()("previewer-holder",{"show-result":v,"previewer-holder-batch":!!n.background}),isVertical:m,children:[n.background,(0,a.jsx)(eF,{isVertical:m,children:(0,a.jsx)(iK,{queueInfo:l,uploadedFile:t,resultAfter:i,shouldHideLoadingContainer:!1,prepareInfo:o,imageLength:c})})]}),!f&&(0,a.jsx)(eT.p,{options:h,visible:!1,saPublicParams:p}),v&&(0,a.jsx)(i_,{setUploaderCloseStatus:r,prepareInfo:o})]})};function iY(){let n=(0,g._)(["\n      .sampleImage{\n        width: ",";\n        height: ",";\n        border-radius: var(--spacing-small);\n      }\n    "]);return iY=function(){return n},n}function iG(){let n=(0,g._)(["\n  gap: 2px;\n  &.sample-img-list {\n    ","\n    :hover {\n      img {\n        border: var(--spacing-xsmall) solid transparent;\n      }\n    }\n    img {\n      border: var(--spacing-xsmall) solid transparent;\n    }\n    img:hover {\n      border: var(--spacing-xsmall) solid var(--color-colors-brandmain);\n      opacity: 1;\n    }\n    .selected {\n      border: var(--spacing-xsmall) solid var(--color-colors-brandmain);\n    }\n  }\n"]);return iG=function(){return n},n}function iq(){let n=(0,g._)(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  margin-top: ","px;\n  cursor: pointer;\n  box-sizing: border-box;\n  object-fit: cover;\n  &:last-of-type {\n    margin-right: 0;\n  }\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return iq=function(){return n},n}let i$=f.ZP.div.withConfig({componentId:"sc-86a34468-0"})(iG(),m.BC.mobile(iY(),n=>{let{width:e="17.6vw"}=n;return"".concat(e,"px")},n=>{let{height:e="17.6vw"}=n;return"".concat(e,"px")})),i0=f.ZP.img.withConfig({componentId:"sc-86a34468-1"})(iq(),n=>n.width,n=>n.height,n=>n.borderRadius,n=>n.marginTop),i1={width:64,height:64,borderRadius:8,marginTop:12};var i2=n=>{let{examples:e,handleClick:t,customStyle:i={},selectedEnable:r,currentSelected:o,style:l}=n,[c,d]=(0,A.useState)(0),{clickTrack:u}=(0,G.T)(),p=(0,h.Z)((n,e)=>{t(n,e),r&&d(e),u({action:"showcase_thumbnail",index:e,media_url:n,trigger_tag:"showcase"})});return(0,A.useEffect)(()=>{void 0!==o&&d(o)},[o]),(0,a.jsx)(i$,{className:s()("sample-img-list",{"selected-enable":r}),style:{display:"flex",...i},width:null==l?void 0:l.width,height:null==l?void 0:l.height,children:e.map((n,e)=>(0,a.jsx)(i0,{className:s()("sampleImage",{selected:c===e}),src:n,alt:"",onClick:()=>p(n,e),width:(null==l?void 0:l.width)||i1.width,height:(null==l?void 0:l.height)||i1.height,borderRadius:(null==l?void 0:l.borderRadius)||i1.borderRadius,marginTop:"number"==typeof(null==l?void 0:l.marginTop)?null==l?void 0:l.marginTop:i1.marginTop},n))})};function i7(){let n=(0,g._)(["\n  display: flex;\n  place-items: center;\n"]);return i7=function(){return n},n}function i3(){let n=(0,g._)(["\n    margin: 0;\n  "]);return i3=function(){return n},n}function i8(){let n=(0,g._)(["\n  margin: 0 var(--spacing-normal);\n  cursor: pointer;\n  ","\n  svg {\n    display: block;\n  }\n  &:last-child {\n    transform: rotate(180deg);\n  }\n"]);return i8=function(){return n},n}let i6=f.ZP.div.withConfig({componentId:"sc-fac86ac6-0"})(i7()),i4=f.ZP.div.withConfig({componentId:"sc-fac86ac6-1"})(i8(),m.BC.mobile(i3()));var i5=n=>{let{imgListProps:e,onPrev:t,onNext:i,iconColor:r="#0A0A0A",showArrow:o=!0}=n;return e.style={...e.style,marginTop:0},(0,a.jsxs)(i6,{children:[o&&(0,a.jsx)(i4,{onClick:t,children:(0,a.jsx)(t3.Z,{color:r})}),(0,a.jsx)(i2,{...e}),o&&(0,a.jsx)(i4,{onClick:i,children:(0,a.jsx)(t3.Z,{color:r})})]})};let i9=[{ratio:327/528,image:[t(94447).Z.src,t(13624).Z.src]},{ratio:327/528,image:[t(57925).Z.src,t(86398).Z.src]},{ratio:327/528,image:[t(39642).Z.src,t(76962).Z.src]},{ratio:327/528,image:[t(42924).Z.src,t(5963).Z.src]}],rn=[{ratio:327/528,image:[t(88981).Z.src,t(33213).Z.src]},{ratio:327/528,image:[t(12249).Z.src,t(53606).Z.src]},{ratio:327/528,image:[t(45705).Z.src,t(61053).Z.src]},{ratio:327/528,image:[t(17976).Z.src,t(83069).Z.src]}],re=()=>{let{setSelectedPreviewOrigin:n,isRestoration:e}=(0,A.useContext)(nh.$),[t,i]=(0,A.useState)(0),r=e?rn:i9,o=r.map(n=>n.image[0]),{clickTrack:l,exposureTrack:s}=(0,G.T)(),c=(0,h.Z)((n,e)=>{i(e)}),d=(0,h.Z)(()=>{i(n=>n-1<0?o.length-1:n-1)}),u=(0,h.Z)(()=>{i(n=>n+1>o.length-1?0:n+1)}),p=(0,A.useMemo)(()=>({before:r[t].image[0],after:r[t].image[1],ratio:r[t].ratio,index:t}),[t]),g=(0,h.Z)(()=>{R.T.emit(U.yk,p),l({action:"showcase",index:t,media_url:p.before,trigger_tag:"showcase"})});return(0,A.useEffect)(()=>{n(r[t].image[0]),s({action:"showcase",index:t,media_url:p.before})},[t]),(0,a.jsxs)(eM,{className:"sample-holder",children:[(0,a.jsx)(nf.z,{...p,needInitAnimate:!0,onlyHandleDraggable:!0,deepOperation:g,onHandleClick:()=>{l({action:"slidebar",index:t,media_url:p.before,trigger_tag:"showcase"})}}),(0,a.jsx)(i5,{imgListProps:{selectedEnable:!0,currentSelected:t,examples:o,handleClick:c},onPrev:d,onNext:u})]})},rt=n=>{let{uploadedFile:e,visible:t,imageLength:i,...r}=n,{horizontal:o,proxyResults:l}=(0,A.useContext)(nh.$),c=!!t,d=l[0];return(0,a.jsxs)(eU,{className:s()("preview-container",{"preview-mode":c,horizontal:o}),children:[(0,a.jsx)(re,{}),c&&(0,a.jsx)(iX,{...r,uploadedFile:e,resultBefore:null==d?void 0:d.before,resultAfter:null==d?void 0:d.after,imageLength:i})]})};var ri=t(83736),rr=t(64419),ro=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ra=/^\w*$/,rA=function(n,e){if((0,ri.Z)(n))return!1;var t=typeof n;return!!("number"==t||"symbol"==t||"boolean"==t||null==n||(0,rr.Z)(n))||ra.test(n)||!ro.test(n)||null!=e&&n in Object(e)},rl=t(59947);function rs(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw TypeError("Expected a function");var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var a=n.apply(this,i);return t.cache=o.set(r,a)||o,a};return t.cache=new(rs.Cache||rl.Z),t}rs.Cache=rl.Z;var rc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rd=/\\(\\)?/g,ru=(r=(i=rs(function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(rc,function(n,t,i,r){e.push(i?r.replace(rd,"$1"):t||n)}),e},function(n){return 500===r.size&&r.clear(),n})).cache,i),rh=t(16995),rp=function(n,e){for(var t=-1,i=null==n?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r},rg=1/0,rf=rh.Z?rh.Z.prototype:void 0,rm=rf?rf.toString:void 0,rv=function n(e){if("string"==typeof e)return e;if((0,ri.Z)(e))return rp(e,n)+"";if((0,rr.Z)(e))return rm?rm.call(e):"";var t=e+"";return"0"==t&&1/e==-rg?"-0":t},rx=function(n,e){return(0,ri.Z)(n)?n:rA(n,e)?[n]:ru(null==n?"":rv(n))},rb=1/0,rw=function(n){if("string"==typeof n||(0,rr.Z)(n))return n;var e=n+"";return"0"==e&&1/n==-rb?"-0":e},rE=function(n,e){e=rx(e,n);for(var t=0,i=e.length;null!=n&&t<i;)n=n[rw(e[t++])];return t&&t==i?n:void 0},rC=t(19002),r_=t(36583),rz=t(84435),rO=function(n,e,t,i){if(!(0,rz.Z)(n))return n;e=rx(e,n);for(var r=-1,o=e.length,a=o-1,A=n;null!=A&&++r<o;){var l=rw(e[r]),s=t;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(r!=a){var c=A[l];void 0===(s=i?i(c,l,A):void 0)&&(s=(0,rz.Z)(c)?c:(0,r_.Z)(e[r+1])?[]:{})}(0,rC.Z)(A,l,s),A=A[l]}return n},rB=function(n,e,t){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],A=rE(n,a);t(A,a)&&rO(o,rx(a,n),A)}return o},rD=function(n,e){return null!=n&&e in Object(n)},rI=t(17641),ry=t(74950),rj=function(n,e,t){e=rx(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var a=rw(e[i]);if(!(o=null!=n&&t(n,a)))break;n=n[a]}return o||++i!=r?o:!!(r=null==n?0:n.length)&&(0,ry.Z)(r)&&(0,r_.Z)(a,r)&&((0,ri.Z)(n)||(0,rI.Z)(n))},rk=t(17044),rZ=rh.Z?rh.Z.isConcatSpreadable:void 0,rS=function(n){return(0,ri.Z)(n)||(0,rI.Z)(n)||!!(rZ&&n&&n[rZ])},rQ=function n(e,t,i,r,o){var a=-1,A=e.length;for(i||(i=rS),o||(o=[]);++a<A;){var l=e[a];t>0&&i(l)?t>1?n(l,t-1,i,r,o):(0,rk.Z)(o,l):r||(o[o.length]=l)}return o},rP=t(96361),rR=t(19726),rU=(o=function(n,e){return null==n?{}:rB(n,e,function(e,t){return null!=n&&rj(n,t,rD)})},(0,rR.Z)((0,rP.Z)(o,void 0,function(n){return(null==n?0:n.length)?rQ(n,1):[]}),o+"")),rM=n=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:65,fill:"none",...n,children:[(0,a.jsx)("path",{fill:"#0A0A0A",fillOpacity:.5,d:"M50.667 12.933H13.333c-.589 0-1.066.478-1.066 1.067v37.333c0 .59.477 1.067 1.066 1.067h29.334a2.133 2.133 0 0 1 0 4.267H13.333A5.333 5.333 0 0 1 8 51.333V14a5.333 5.333 0 0 1 5.333-5.333h37.334A5.333 5.333 0 0 1 56 14v23.467a2.134 2.134 0 0 1-4.267 0V14c0-.589-.477-1.067-1.066-1.067"}),(0,a.jsx)("path",{fill:"#0A0A0A",fillOpacity:.5,d:"M48.26 35.503a2.133 2.133 0 0 0-2.294-1.958c-11.574.917-21.607 4.005-26.81 13.336a2.133 2.133 0 0 0 3.727 2.078c4.102-7.357 12.165-10.27 23.42-11.16a2.133 2.133 0 0 0 1.958-2.296M22.667 27.333a4 4 0 1 0 0-8 4 4 0 0 0 0 8M55.734 43.867v3.2h3.2a2.133 2.133 0 1 1 0 4.267h-3.2v3.2a2.133 2.133 0 1 1-4.267 0v-3.2h-3.2a2.133 2.133 0 1 1 0-4.267h3.2v-3.2a2.133 2.133 0 1 1 4.267 0"})]});function rL(){let n=(0,g._)(["\n    transition: unset;\n  "]);return rL=function(){return n},n}function rF(){let n=(0,g._)(["\n      transform-origin: bottom center;\n    "]);return rF=function(){return n},n}function rN(){let n=(0,g._)(["\n        transform: none;\n      "]);return rN=function(){return n},n}function rH(){let n=(0,g._)(["\n    position: fixed;\n    display: block;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 0;\n    z-index: 2;\n  "]);return rH=function(){return n},n}function rT(){let n=(0,g._)(["\n  box-sizing: border-box;\n  padding: 0px var(--spacing-medium, 28px);\n\n  transition: 0.6s ease-out;\n  transform-origin: top left;\n\n  ","\n\n  &.is-closed {\n    ","\n    transform: scale(0);\n    /* opacity: 0; */\n    padding: 0;\n  }\n\n  &.horizontal {\n    .eidt-btn-holder {\n      transform: translate3d(0, 87px, 0);\n      ","\n    }\n  }\n\n  ","\n"]);return rT=function(){return n},n}function rV(){let n=(0,g._)(["\n    border: none;\n    border-radius: 0;\n    border-top-left-radius: 6.4vw;\n    border-top-right-radius: 6.4vw;\n    transition: unset;\n    width: 100%;\n    height: auto;\n    background-color: var(--color-colors-bgoverlay);\n    .upload-placeholder-icon {\n      display: none;\n    }\n  "]);return rV=function(){return n},n}function rW(){let n=(0,g._)(["\n      position: relative;\n      bottom: 0;\n      margin: var(--spacing-normal) auto;\n      height: 14.4vw;\n    "]);return rW=function(){return n},n}function rJ(){let n=(0,g._)(["\n  width: 420px;\n  height: 100%;\n  position: relative;\n  border-radius: 28px;\n  border: 1px solid var(--color-colors-bgoverlaytop);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  transition: 0.6s ease-out;\n  transform-origin: top left;\n  box-sizing: border-box;\n\n  svg {\n    path {\n      fill: var(--color-colors-contentsoft);\n    }\n  }\n  &:hover {\n    cursor: pointer;\n    background: var(--color-colors-bgmain);\n  }\n  ","\n  &.should-close {\n    /* transform: scale(0); */\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .pica-common-button {\n    width: calc(100% - var(--spacing-medium, 28px) * 2);\n    margin: 0 var(--spacing-medium, 28px);\n    position: absolute;\n    bottom: var(--spacing-medium, 28px);\n\n    ","\n  }\n"]);return rJ=function(){return n},n}function rK(){let n=(0,g._)(["\n    display: none;\n  "]);return rK=function(){return n},n}function rX(){let n=(0,g._)(["\n  margin-top: var(--spacing-medium);\n  font-size: var(--font-headline);\n  font-weight: 590;\n  color: var(--color-colors-contentsoft);\n  ","\n"]);return rX=function(){return n},n}function rY(){let n=(0,g._)(["\n  background: var(--color-colors-bgoverlay);\n  display: flex;\n  opacity: 0;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-normal) var(--spacing-normal);\n  color: var(--color-colors-warncontent);\n  font-size: var(--font-subhead);\n  position: absolute;\n  bottom: 20%;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: var(--spacing-small);\n  transition: 0.3s all;\n  box-shadow: 0px 0px 40px 0px var(--color-colors-blackopacity10);\n  &.visible {\n    opacity: 1;\n  }\n"]);return rY=function(){return n},n}function rG(){let n=(0,g._)(["\n    display: none;\n  "]);return rG=function(){return n},n}function rq(){let n=(0,g._)(["\n  width: 240px;\n  height: 240px;\n  position: relative;\n  ","\n"]);return rq=function(){return n},n}function r$(){let n=(0,g._)(["\n  width: 160px;\n  height: 186px;\n  padding: 12px;\n  box-sizing: border-box;\n  border: 2px solid var(--color-colors-contentopacity08);\n  border-radius: 10px;\n  svg {\n    transform: scale(1.2);\n    path {\n      fill: var(--color-colors-contentweak);\n    }\n  }\n"]);return r$=function(){return n},n}function r0(){let n=(0,g._)(["\n  width: 160px;\n  height: 186px;\n  border-radius: 10px;\n  position: absolute;\n  right: 21px;\n  top: 34px;\n"]);return r0=function(){return n},n}function r1(){let n=(0,g._)(["\n    display: none;\n  "]);return r1=function(){return n},n}function r2(){let n=(0,g._)(["\n  color: var(--color-colors-contentmain);\n  font-size: var(--font-headline);\n  font-weight: 590;\n  line-height: var(--font-headline-H);\n  margin-top: var(--spacing-medium);\n  ","\n"]);return r2=function(){return n},n}function r7(){let n=(0,g._)(["\n    display: none;\n  "]);return r7=function(){return n},n}function r3(){let n=(0,g._)(["\n  font-size: var(--font-caption);\n  line-height: var(--font-caption-H);\n  color: var(--color-colors-contentsoft);\n  margin-top: var(--spacing-small);\n  ","\n"]);return r3=function(){return n},n}let r8=f.ZP.div.withConfig({componentId:"sc-98a0a418-0"})(rT(),m.BC.mobile(rL()),m.BC.mobile(rF()),m.BC.mobile(rN()),m.BC.mobile(rH())),r6=f.ZP.div.withConfig({componentId:"sc-98a0a418-1"})(rJ(),m.BC.mobile(rV()),m.BC.mobile(rW())),r4=f.ZP.span.withConfig({componentId:"sc-98a0a418-2"})(rX(),m.BC.mobile(rK())),r5=f.ZP.div.withConfig({componentId:"sc-98a0a418-3"})(rY()),r9=f.ZP.div.withConfig({componentId:"sc-98a0a418-4"})(rq(),m.BC.mobile(rG())),on=f.ZP.div.withConfig({componentId:"sc-98a0a418-5"})(r$()),oe=(0,f.ZP)(n8.N).withConfig({componentId:"sc-98a0a418-6"})(r0()),ot=f.ZP.div.withConfig({componentId:"sc-98a0a418-7"})(r2(),m.BC.mobile(r1())),oi=f.ZP.div.withConfig({componentId:"sc-98a0a418-8"})(r3(),m.BC.mobile(r7()));var or=t(27749),oo=n=>{let{isClosed:e}=n,{hasError:t,errorReason:i,setErrorReason:r,horizontal:o,handleUploadedFiles:l,fileHandling:d,isRestoration:u,selectedPreviewOrigin:p,loaddingStatus:g}=(0,A.useContext)(nh.$),{isSafari:f}=(0,nc.hU)(),{creditChecking:m}=g,v=(0,A.useRef)(null),x=(0,A.useRef)(null),{t:b}=(0,c.Z)("index"),{isMobile:w}=(0,nc.hU)(),{exposureTrack:E,clickTrack:C,mediaTrack:_}=(0,G.T)(),z=(0,h.Z)(()=>{var n;null===(n=v.current)||void 0===n||n.click()}),O=(0,h.Z)(n=>{let e=Array.from(n);l(e),_({action:e.length>0?"select_media_success":"select_media_failed"})}),B=(0,h.Z)(()=>{_({action:"select_media_cancel"})}),D=(0,A.useMemo)(()=>(0,ni.DQ)(f),[f]);return(0,A.useEffect)(()=>{if(x){var n;null===(n=x.current)||void 0===n||n.addEventListener("cancel",B)}return()=>{var n;null===(n=x.current)||void 0===n||n.removeEventListener("cancel",B)}},[]),(0,A.useEffect)(()=>{!e&&t&&setTimeout(()=>{r("")},3e3)},[t]),(0,A.useEffect)(()=>{E({action:"enhance"})},[]),(0,a.jsx)(r8,{className:s()("upload-container",{"is-closed":e,horizontal:o}),children:(0,a.jsxs)(r6,{className:s()("upload-holder",{"should-close":e}),onClick:z,children:[u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r9,{children:[(0,a.jsx)(on,{children:(0,a.jsx)(or.Z,{})}),(0,a.jsx)(oe,{src:p||""})]}),(0,a.jsx)(ot,{children:b("repair_your_precious_old_photos")}),(0,a.jsx)(oi,{children:b("credits_50")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rM,{className:"upload-placeholder-icon"}),(0,a.jsx)(r4,{children:b(u?"click_or_drag_to_upload_image":"click_or_drag_to_upload_photos")})]}),(0,a.jsx)(tZ.I,{onSelect:O,acceptedFileTypes:D,ref:x,allowsMultiple:!u,children:(0,a.jsx)(eg.T,{id:"pica-enhance-upload-btn",ref:v,isLoading:m||d,onPress:()=>C({action:"select_media"}),children:b(u?"select_old_photo":"select_photos")})}),!w&&(0,a.jsx)(r5,{className:s()("",{visible:t}),children:i})]})})};function oa(){let n=(0,g._)(["\n  overflow-y: hidden;\n  padding-top: 100px;\n  background: rgba(242, 244, 245, 1);\n  box-sizing: border-box;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-top: 0;\n  min-height: calc(100vh - 142px);\n  "]);return oa=function(){return n},n}function oA(){let n=(0,g._)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  ","\n"]);return oA=function(){return n},n}function ol(){let n=(0,g._)(["\n        width: 100%;\n        /* flex: 1; */\n        box-sizing: border-box;\n        padding: 0;\n        max-height: unset;\n        height: auto;\n        padding-bottom: 0;\n        overflow-y: unset;\n    "]);return ol=function(){return n},n}function os(){let n=(0,g._)(["\n  width: 50%;\n  height: 100%;\n  padding-right: 16px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  align-items: center;\n  ","\n"]);return os=function(){return n},n}function oc(){let n=(0,g._)(["\n    max-height: unset;\n    overflow-y: hidden;\n  "]);return oc=function(){return n},n}function od(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-normal, 16px);\n  width: 100%;\n  max-height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  ","\n"]);return od=function(){return n},n}function ou(){let n=(0,g._)(["\n  margin-top: var(--spacing-normal);\n"]);return ou=function(){return n},n}function oh(){let n=(0,g._)(["\n  width: 100%;\n  position: relative;\n  display: flex;\n"]);return oh=function(){return n},n}function op(){let n=(0,g._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--colors-content_soft, rgba(10, 10, 10, 0.5));\n  /* caption */\n  font-family: var(--font-roboto);\n  font-size: var(--font-caption, 13px);\n  font-style: normal;\n  font-weight: 510;\n  line-height: var(--font-caption-H, 16px); /* 123.077% */\n  z-index: 1;\n  gap: var(--spacing-xsmall, 4px);\n"]);return op=function(){return n},n}function og(){let n=(0,g._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: var(--colors-bg_ripple, rgba(13, 12, 12, 0.12));\n  color: var(--colors-content_main, #0a0a0a);\n"]);return og=function(){return n},n}let of=f.ZP.div.withConfig({componentId:"sc-61b2ee21-0"})(oA(),m.BC.mobile(oa())),om=f.ZP.div.withConfig({componentId:"sc-61b2ee21-1"})(os(),m.BC.mobile(ol())),ov=f.ZP.div.withConfig({componentId:"sc-61b2ee21-2"})(od(),m.BC.mobile(oc()));f.ZP.div.withConfig({componentId:"sc-61b2ee21-3"})(ou());let ox=f.ZP.div.withConfig({componentId:"sc-61b2ee21-4"})(oh()),ob=f.ZP.div.withConfig({componentId:"sc-61b2ee21-5"})(op()),ow=f.ZP.div.withConfig({componentId:"sc-61b2ee21-6"})(og());var oE=t(92815);function oC(){let n=(0,g._)(["\n        justify-content: flex-start;\n        padding-bottom: 0;\n        max-height: unset;\n    "]);return oC=function(){return n},n}function o_(){let n=(0,g._)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--spacing-normal, 16px);\n  align-items: center;\n  padding-bottom: var(--spacing-normal, 16px);\n\n  ","\n"]);return o_=function(){return n},n}function oz(){let n=(0,g._)(["\n  width: calc(50% - var(--spacing-normal, 16px) / 2); // 50% - 8px\n  padding-top: calc(50% - var(--spacing-normal, 16px) / 2); // 50% - 8px\n  height: 0;\n  border-radius: 8px;\n  position: relative;\n\n  &.columns-3-image {\n    width: calc(33% - var(--spacing-normal, 16px) * 2 / 3);\n    padding-top: calc(33% - var(--spacing-normal, 16px) * 2 / 3);\n    height: 0;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: cover;\n    border-radius: 8px;\n  }\n"]);return oz=function(){return n},n}function oO(){let n=(0,g._)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 8px;\n  }\n"]);return oO=function(){return n},n}function oB(){let n=(0,g._)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  z-index: 1;\n"]);return oB=function(){return n},n}function oD(){let n=(0,g._)(["\n  border-radius: 8px;\n  background: linear-gradient(\n      0deg,\n      rgba(250, 90, 84, 0.5) 0%,\n      rgba(250, 90, 84, 0.5) 100%\n    ),\n    url(<path-to-image>) lightgray 50% / cover no-repeat;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  opacity: 0.6;\n"]);return oD=function(){return n},n}let oI=f.ZP.div.withConfig({componentId:"sc-2c378b5d-0"})(o_(),m.BC.mobile(oC())),oy=f.ZP.div.withConfig({componentId:"sc-2c378b5d-1"})(oz()),oj=f.ZP.div.withConfig({componentId:"sc-2c378b5d-2"})(oO()),ok=f.ZP.div.withConfig({componentId:"sc-2c378b5d-3"})(oB()),oZ=f.ZP.div.withConfig({componentId:"sc-2c378b5d-4"})(oD());var oS=function(n){let{uploadFiles:e,columnsNumber:t=2,className:i}=n;return(0,a.jsx)(oI,{className:i,children:null==e?void 0:e.map(n=>{let{key:e,status:i,fileUrl:r}=n,o=i===nh.D.UPLOADING,A=i===nh.D.PENDING,l=[nh.D.UPLOAD_FAILED,nh.D.PRELOAD_FAILED].includes(i);return(0,a.jsx)(oy,{className:"columns-".concat(t,"-image"),children:(0,a.jsxs)(oj,{children:[l&&(0,a.jsx)(oZ,{}),o&&(0,a.jsx)(ok,{children:(0,a.jsx)(tF.x,{size:"large"})}),A&&(0,a.jsx)(ok,{}),r&&(0,a.jsx)(tW(),{src:r,width:200,height:200,alt:"image",loading:"lazy"})]})},e)})})};let oQ={KEEP_THE_PAGE_ACTIVE_FOR_UPLOAD:"keep_the_page_active_for_upload",FAILED_TO_UPLOAD:"failed_to_upload"},oP=n=>n.map(n=>({...n,status:n.status!==nh.D.SUCCESS?nh.D.PENDING:n.status})),oR=n=>{let e=n.findIndex(n=>n.status===nh.D.PENDING);return -1===e?n:n.map((n,t)=>t>=e&&t<e+6?{...n,status:nh.D.UPLOADING}:n)},oU=n=>{let e={[nh.D.SUCCESS]:100,[nh.D.UPLOADING]:0,[nh.D.PENDING]:-100};return n.sort((n,t)=>e[t.status]-e[n.status])},oM=n=>{let e=oP(n),t=oU(e),i=oR(t),r=oU(i);return r},oL=n=>n.filter(n=>n.status===nh.D.SUCCESS);var oF=t(82044);function oN(){let n=(0,g._)(["\n  z-index: 1;\n  width: 100%;\n  box-sizing: border-box;\n\n  &.pica-mobile-foot-drawer--open {\n    transform: translate3d(0, 0, 0) !important;\n  }\n"]);return oN=function(){return n},n}function oH(){let n=(0,g._)(["\n  width: 50%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 16px;\n  position: relative;\n"]);return oH=function(){return n},n}function oT(){let n=(0,g._)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background-color: #fff;\n    width: 100%;\n    height: 94px;\n    margin: 0;\n    border-radius: var(--spacing-medium, 24px) var(--spacing-medium, 24px) 0px 0px;\n    z-index: 2;\n  "]);return oT=function(){return n},n}function oV(){let n=(0,g._)(["\n  margin-top: var(--spacing-normal);\n  margin-bottom: var(--spacing-normal);\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--darkmode_main-content_main, var(--colors-content_main, #0a0a0a));\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .detail {\n    margin-top: var(--spacing-normal);\n    font-size: 12px;\n    color: var(--colors-content_soft, rgba(10, 10, 10, 0.5));\n  }\n\n  ","\n"]);return oV=function(){return n},n}let oW=(0,f.ZP)(oF.Z).withConfig({componentId:"sc-6cce3073-0"})(oN()),oJ=f.ZP.div.withConfig({componentId:"sc-6cce3073-1"})(oH()),oK=f.ZP.div.withConfig({componentId:"sc-6cce3073-2"})(oV(),m.BC.mobile(oT()));function oX(){let n=(0,g._)(["\n    flex-direction: ",";\n\n    .skip-btn {\n      flex: 1;\n    }\n    .pica-common-button__text {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  "]);return oX=function(){return n},n}function oY(){let n=(0,g._)(["\n  display: flex;\n  gap: var(--spacing-normal, 16px);\n  flex-direction: column;\n  width: 100%;\n  box-sizing: border-box;\n\n  ","\n\n  .retry-btn {\n    background: var(--colors-warn_bg, #fef3f1);\n    color: var(--colors-warn_main, #fa5a54);\n    min-width: 74px;\n\n    &.retry-btn-flex1 {\n      flex: 1;\n    }\n  }\n"]);return oY=function(){return n},n}function oG(){let n=(0,g._)(["\n    gap: var(--spacing-normal, 16px);\n  "]);return oG=function(){return n},n}function oq(){let n=(0,g._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 88px;\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--darkmode_main-content_main, var(--colors-content_main, #0a0a0a));\n\n  ","\n"]);return oq=function(){return n},n}function o$(){let n=(0,g._)(["\n    margin-top: -20px;\n    "]);return o$=function(){return n},n}function o0(){let n=(0,g._)(["\n  font-size: var(--font-body);\n  font-weight: 400;\n  color: var(--darkmode_main-content_main, var(--colors-content_main, #0a0a0a));\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  &.error-title {\n    ","\n  }\n"]);return o0=function(){return n},n}let o1=f.ZP.div.withConfig({componentId:"sc-aa29838c-0"})(oY(),m.BC.mobile(oX(),n=>{let{isOpen:e}=n;return e?"column":"row"})),o2=f.ZP.div.withConfig({componentId:"sc-aa29838c-1"})(oq(),m.BC.mobile(oG())),o7=f.ZP.span.withConfig({componentId:"sc-aa29838c-2"})(o0(),m.BC.mobile(o$()));var o3=n=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...n,children:(0,a.jsx)("path",{fill:"#FA5A54",fillRule:"evenodd",d:"M4.133 10a5.867 5.867 0 0 1 10.03-4.133H12.5a.8.8 0 0 0 0 1.6h3.233a.9.9 0 0 0 .9-.9V3.333a.8.8 0 1 0-1.6 0v1.15A7.467 7.467 0 1 0 17.466 10a.8.8 0 1 0-1.6 0q0 .375-.045.735A5.868 5.868 0 0 1 4.133 10",clipRule:"evenodd"})});let o8=(n,e)=>{let t=n?2:1;return{shouldShowContinue:n,shouldOpen:t>1&&e,shouldFullWidthRetry:1===t}},o6={ONE_PHOTO_FAILED:"1_photo_upload_failed",X_PHOTOS_FAILED:"x_photos_upload_failed"},o4=n=>n.length<2?o6.ONE_PHOTO_FAILED:o6.X_PHOTOS_FAILED,o5={COLLAPSE:"collapse",RETRY:"Retry",SKIP:"skip_to_continue"};var o9=n=>{let{uploadedFiles:e,handleUploadRetry:t,handleGenerate:i,isOpen:r}=n,{t:o}=(0,c.Z)("index"),{isMobileStyle:l}=(0,tN.S)(),{uploadedFilesFailed:d,hasUploadSuccessed:u}=(0,A.useMemo)(()=>er(e),[e]),{shouldShowContinue:h,shouldFullWidthRetry:p}=o8(u,l),g=!r&&l?(0,a.jsx)(o3,{}):o(o5.RETRY),f=(0,a.jsxs)(o1,{isOpen:r||!1,children:[(0,a.jsx)(eg.T,{className:s()("retry-btn",{"retry-btn-flex1":p}),onPress:t,children:g}),h&&(0,a.jsx)(eg.T,{onPress:i,className:"skip-btn",children:o(o5.SKIP)})]});return(0,a.jsxs)(o2,{children:[(0,a.jsx)(o7,{className:"error-title",children:o(o4(d),{x:d.length})}),f]})};let an={ONE:"uploading_one",A_OF_B:"uploading_a_of_b"},ae=n=>Math.min(n.length,20),at={limit:20,isOverLimit:n=>n.length>20,getRealUploadFileNum:ae,getSelectedFiles:n=>n.slice(0,ae(n))};var ai=t(67739);function ar(){let n=(0,g._)(["\n       position: absolute;\n       top: -68px;\n       z-index: 1;\n       margin: 0;\n    "]);return ar=function(){return n},n}function ao(){let n=(0,g._)(["\n  position: relative;\n  margin-left: 16px;\n  margin-bottom: 16px;\n\n  ","\n"]);return ao=function(){return n},n}let aa=f.ZP.div.withConfig({componentId:"sc-19b6b9a6-0"})(ao(),m.BC.mobile(ar()));var aA=()=>{let{t:n}=(0,c.Z)("index"),[e,t]=(0,A.useState)(!0),{setIsOverMaxImageCount:i}=(0,A.useContext)(nh.$);return(0,A.useEffect)(()=>{e&&setTimeout(()=>{t(!1),i(!1)},3e3)},[e]),(0,a.jsx)(aa,{children:(0,a.jsx)(ai.e,{className:s()("tips-container","tips-relative",{visible:e}),mobileWidth:"100%",theme:"dark",children:n("maximum_exceeded_processing_first_x",{x:at.limit})})})},al=function(n){let{uploadProgress:e}=n,{t}=(0,c.Z)("index"),{isOverMaxImageCount:i}=(0,A.useContext)(nh.$);return(0,a.jsxs)(oK,{className:"batch",children:[i&&(0,a.jsx)(aA,{}),(0,a.jsx)(o7,{children:t(e.inProgress<=1?an.ONE:an.A_OF_B,{a:Math.min(e.completed+1,20),b:e.inProgress})}),(0,a.jsx)("div",{className:"detail",children:t(oQ.KEEP_THE_PAGE_ACTIVE_FOR_UPLOAD)})]})},as=n=>{let{hasUploadError:e}=n,{uploadedFiles:t,handleUploadRetry:i,handleGenerate:r}=n,{isMobileStyle:o}=(0,tN.S)();if(o){if(!e)return(0,a.jsx)(al,{...n});{let n={uploadedFiles:t,handleUploadRetry:i,handleGenerate:r};return(0,a.jsx)(oW,{UNSAFEAutoRePosition:!0,initWithOpen:!0,allowScroll:!0,defaultSlot:(0,a.jsx)(o9,{...n,isOpen:!1}),expandSlot:(0,a.jsx)(o9,{...n,isOpen:!0}),defaultVisibility:"show"})}}return(0,a.jsx)(oJ,{children:e?(0,a.jsx)(o9,{...n,isOpen:!1}):(0,a.jsx)(al,{...n})})},ac=n=>{let{t:e}=(0,c.Z)("index"),{setUploadedFiles:t,setAbortUpload:i,originUploadedFiles:r}=n,{isMobileStyle:o}=(0,tN.S)(),{mediaTrack:l}=(0,G.T)(!1),s=n.uploadedFiles||[],d=(0,A.useRef)(!1),[u,h]=(0,A.useState)({inProgress:s.length,completed:0}),{imageSize:p,columnsNumber:g}=(0,A.useMemo)(()=>{var e;let t=o?6:4,i=((null===(e=n.uploadedFiles)||void 0===e?void 0:e.length)||0)>t;return{columnsNumber:n.uploadedFiles.length>0?i?3:2:0,imageSize:i?143:222}},[o,n.uploadedFiles]),{uploadedFilesSuccess:f,uploadedFilesFailed:m,hasUploadError:v,isUploadFinished:x}=(0,A.useMemo)(()=>er(n.uploadedFiles||[]),[n.uploadedFiles]),b={columnsNumber:g,imageSize:p},w=async n=>{try{let e=(0,oE.R)(H.Lp,"post");return await e(n)}catch(n){throw console.error("Upload failed:",n),n}},E=async n=>{let e=[];for(let t=0;t<n.length;t++){let i=n[t],r=await (0,eN.Od)(i.file),o=await (0,eN.r5)({file:r,maxSize:500,shouldTryCatch:!0,needCreateObjectURL:!0}),a=(null==o?void 0:o.src)||"";e.push({key:i.key,fileUrl:a,file:r})}t(s.map((n,t)=>({...n,fileUrl:e[t].fileUrl,file:e[t].file}))),await new Promise(n=>setTimeout(n,500))},C=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;try{d.current=!1,await E(n);let e=function(n){let{uploadFiles:e,uploadImage:t,mediaTrack:i,handleSingleUpload:r}=n;return e.filter(n=>n.status!==nh.D.SUCCESS).map(n=>({key:n.key,task:async()=>{let e=n.prepareImgData?n.prepareImgData:await (0,eN.r5)({file:n.file,shouldTryCatch:!0,needCreateObjectURL:!0});if(!e)return{imageUrl:"",prepareImgData:null,status:nh.D.PRELOAD_FAILED};let o=e.formData,a=await t({mediaTrack:i,uploadStart:r,imageData:o,taskStartTime:Date.now()});return{imageUrl:a,prepareImgData:e}}}))}({uploadFiles:n,uploadImage:nt,mediaTrack:l,handleSingleUpload:w,setUploadedFiles:t}),i=new ib(6),r=function(n){let{scheduler:e,setUploadedFiles:t,isTerminated:i,addUploadSuccessLength:r,onError:o=n=>console.error(":",n)}=n,a=n=>{let{key:e,status:i,imageUrl:r,prepareImgData:o}=n;t(n=>n.map(n=>n.key===e?{...n,status:i,...void 0!==r&&{imageUrl:r},...void 0!==o&&{prepareImgData:o}}:n))},A=(n,e)=>{a({key:n,status:nh.D.SUCCESS,imageUrl:e.imageUrl,prepareImgData:e.prepareImgData}),r()},l=(n,e,t)=>{a({key:n,status:t||nh.D.UPLOAD_FAILED,imageUrl:""}),o(e)};return n=>{let{key:t,task:r}=n;e.addTask({key:t,task:async()=>{if(!i)try{let n=await r();return(null==n?void 0:n.imageUrl)&&(null==n?void 0:n.prepareImgData)?A(t,n):l(t,Error(""),null==n?void 0:n.status),n}catch(n){l(t,n);return}},onBeforeRun:()=>{a({key:t,status:nh.D.UPLOADING})}})}}({scheduler:i,setUploadedFiles:t,isTerminated:d.current,addUploadSuccessLength:()=>h(n=>({...n,completed:n.completed+1}))});return e.forEach(r),{abort:()=>{d.current=!0,i.clearAllTasks()}}}catch(n){return console.error(":",n),null}},_=async()=>{let n=oM(s);t(n),h({inProgress:m.length,completed:0}),C(n).then(n=>{i(()=>null==n?void 0:n.abort)}).catch()},z=()=>{C().then(n=>{i(()=>null==n?void 0:n.abort)}).catch(),h({inProgress:r.length,completed:0})};return(0,A.useEffect)(()=>{(null==r?void 0:r.length)>1&&z()},[r.length]),(0,a.jsxs)(of,{children:[(0,a.jsx)(om,{children:(0,a.jsx)(ov,{children:x&&v?(0,a.jsxs)(a.Fragment,{children:[f.length>0&&(0,a.jsx)(oS,{uploadFiles:f,...b}),(0,a.jsx)(ox,{children:(0,a.jsxs)(ob,{children:[(0,a.jsx)("span",{children:e(oQ.FAILED_TO_UPLOAD)}),(0,a.jsx)(ow,{children:m.length})]})}),(0,a.jsx)(oS,{...b,uploadFiles:m})]}):(0,a.jsx)(oS,{...b,uploadFiles:s})})}),(0,a.jsx)(as,{hasUploadError:v,uploadedFiles:s,handleUploadRetry:_,handleGenerate:()=>t(oL(s)),uploadProgress:u})]})};function ad(){let n=(0,g._)(["\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n  overflow: hidden;\n  top: ","px;\n"]);return ad=function(){return n},n}function au(){let n=(0,g._)(["\n  width: ",";\n  position: absolute;\n  left: 50%;\n  top: ","px;\n  transform: translateX(-50%);\n  border-radius: var(--spacing-normal);\n  box-shadow: 0px 5.17px 5.17px 0px rgba(10, 10, 10, 0.06);\n  opacity: ",";\n  border: 1px solid var(--colors-content_opacity_08, rgba(10, 10, 10, 0.08));\n"]);return au=function(){return n},n}let ah=f.ZP.div.withConfig({componentId:"sc-e64e853a-0"})(ad(),n=>{let{top:e}=n;return e}),ap=f.ZP.img.withConfig({componentId:"sc-e64e853a-1"})(au(),n=>{let{width:e}=n;return e},n=>{let{top:e}=n;return e},n=>{let{opacity:e}=n;return e}),ag={0:.8,1:.2};var af=n=>{let{successFiles:e}=n,t=e.slice(1,3),{isMobileStyle:i}=(0,tN.S)(),r=i?32:48,o=i?12:16,A=t.map((n,e)=>{let t=(e+1)*r;return(0,a.jsx)(ap,{src:n,top:(2-e-1)*o,width:"calc(100% - ".concat(t,"px)"),opacity:ag[e]||.2},e)}).reverse();return(0,a.jsx)(ah,{top:-1*o*2,children:A})};let am=u()(()=>t.e(6063).then(t.bind(t,46063)),{loadableGenerated:{webpack:()=>[46063]},ssr:!1});var av=n=>{var e,t;let{isMobileStyle:i}=(0,tN.S)(),{uploadedFiles:r}=(0,A.useContext)(nh.$),{isUploadBatch:o,isUploadInProgressOrFailed:l,setUploadedFiles:s,setAbortUpload:c,uploaderClosed:d,enhancerRef:u,uploadedFilesSuccess:h,isLoading:p,queueInfo:g,setUploaderCloseStatus:f,originUploadedFiles:m,firstImagePrepareInfo:v,handleUploadedFiles:x}=n,b={visible:d,isLoading:p,queueInfo:g,prepareInfo:v||(null==r?void 0:null===(e=r[0])||void 0===e?void 0:e.prepareImgData)||null,uploadedFile:null==r?void 0:null===(t=r[0])||void 0===t?void 0:t.fileUrl,setUploaderCloseStatus:f,imageLength:h.length},w=rU(b,["visible","isLoading","queueInfo","setUploaderCloseStatus"]),E=(0,a.jsx)(af,{successFiles:h.map(n=>n.fileUrl)}),C={background:E};return(0,a.jsx)(k,{ref:u,className:"enhancer-container",children:o&&l?(0,a.jsx)(ac,{uploadedFiles:r,setUploadedFiles:s,handleUploadedFiles:x,setAbortUpload:c,originUploadedFiles:m}):d?i&&o?(0,a.jsxs)(Z,{children:[(0,a.jsx)(S,{children:(0,a.jsx)(rt,{...b,...C})}),(0,a.jsx)(Q,{children:(0,a.jsx)(am,{...w})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rt,{...b,...C}),(0,a.jsx)(am,{...w})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(oo,{isClosed:d}),(0,a.jsx)(rt,{...b})]})})};let ax=n=>{let[e,t]=(0,A.useState)(!1),[i,r]=(0,A.useState)(!1);return(0,A.useEffect)(()=>{let i=()=>{if(n){let{imgWidth:e,imgHeight:t}=n;e>t?r(!0):r(!1)}};e&&i(),setTimeout(()=>{i(),t(!0)},500)},[n]),{horizontal:i,directionHasBeenInit:e,setDirectionInit:t,setHorizontal:r}},ab=()=>{let[n,e]=(0,A.useState)(""),[t,i]=(0,A.useState)(null),[r,o]=(0,A.useState)(!1),[a,l]=(0,A.useState)(!1),[s,c]=(0,A.useState)([]),[d,u]=(0,A.useState)([]),[h,p]=(0,A.useState)(!1),[g,f]=(0,A.useState)(null),[m,v]=(0,A.useState)(!1),[x,b]=(0,A.useState)([]),[w,E]=(0,A.useState)(()=>()=>{}),[C,_]=(0,A.useState)(!1);return{errorReason:n,setErrorReason:e,selectedPreviewOrigin:t,setSelectedPreviewOrigin:i,isResultDiffImageReady:r,setIsResultDiffImageReady:o,uploaderClosed:a,setUploaderCloseStatus:l,originUploadedFiles:s,setOriginUploadedFiles:c,uploadedFiles:d,setUploadedFiles:u,fileHandling:h,setFileHandling:p,firstImagePrepareInfo:g,setFirstImagePrepareInfo:f,isOverMaxImageCount:m,setIsOverMaxImageCount:v,proxyResults:x,setProxyResults:b,abortUpload:w,setAbortUpload:E,hasPendingGenerateFile:C,setHasPendingGenerateFile:_}};var aw=t(27159);let aE=n=>{let{handleUploadedFiles:e,resetAll:t,scrollEffect:i,setErrorReason:r,hasPendingGenerateFile:o,modalVisible:a,layoutRef:A}=n,{isMobile:l}=(0,nc.ZP)(),{t:s}=(0,c.Z)("index"),{dragTrack:d}=(0,G.T)(),u=(0,h.Z)(async n=>{let i=n.items.filter(n=>"file"===n.kind&&(0,aw.Or)(n.type));i.length&&(t(),e(await Promise.all(i.map(n=>n.getFile()))),d({action:"drag_photo",photo_count:i.length}))}),{dropProps:p,isDropTarget:g}=(0,eV.L)({ref:A,onDrop:u,isDisabled:l||a||o});return{dropProps:p,isDropTarget:g,onDrop:u}},aC=n=>{let{setFirstImagePrepareInfo:e,setUploadedFiles:t,creditCheck:i}=n,r=(0,el.useRouter)(),{i:o}=r.query;(0,A.useEffect)(()=>{let n=!0,a=async()=>{if(o)try{let a=await i(1);if(!a)return;let A=await (0,eN.Up)({file:o});if(!n)return;e(A),t([{fileUrl:o,imageUrl:o,prepareImgData:A,status:nh.D.SUCCESS,key:o,file:new File([o],o,{type:"image/jpeg"})}]),eo(r)}catch(n){console.error("Image enhancement failed:",n)}};return a(),()=>{n=!1}},[o])};var a_=t(28643),az=t(17438);let aO=n=>{let{setHasPendingGenerateFile:e,setFileHandling:t,setIsOverMaxImageCount:i,setOriginUploadedFiles:r,setUploadedFiles:o,setErrorReason:a,creditCheck:A}=n,{t:l}=(0,c.Z)("index"),s=(0,h.Z)(async n=>{try{let s=n.filter(a_.Z);if(0===s.length){a(l("unsupported_file_format"));return}e(!0),t(!0);let c=await A(at.getRealUploadFileNum(s));if(!c){t(!1),e(!1);return}i(at.isOverLimit(s));let d=at.getSelectedFiles(s);r(d);let u=d.map((n,e)=>({file:n,status:e<6?nh.D.UPLOADING:nh.D.PENDING,key:(0,az.Fs)(),fileUrl:""}));o(u),t(!1)}catch(n){t(!1),a(l("unsupported_file_format")),e(!1)}});return{handleUploadedFiles:s}},aB=u()(()=>t.e(6387).then(t.bind(t,26387)),{loadableGenerated:{webpack:()=>[26387]},ssr:!1}),aD=n=>{let e=(0,L.V)(),{t}=(0,c.Z)("index"),{isMobileStyle:i}=(0,tN.S)(),{isRestoration:r=!1}=n,{show:o,hide:l,visible:d,trigger:u}=(0,nu.h)(U.yk),g=(0,A.useRef)(null),f=(0,A.useRef)(null),{errorReason:m,setErrorReason:v,selectedPreviewOrigin:x,setSelectedPreviewOrigin:b,isResultDiffImageReady:w,setIsResultDiffImageReady:E,uploaderClosed:C,setUploaderCloseStatus:_,originUploadedFiles:z,setOriginUploadedFiles:O,uploadedFiles:B,setUploadedFiles:D,fileHandling:k,setFileHandling:Z,firstImagePrepareInfo:S,setFirstImagePrepareInfo:Q,isOverMaxImageCount:F,setIsOverMaxImageCount:N,proxyResults:H,setProxyResults:T,abortUpload:V,setAbortUpload:W,hasPendingGenerateFile:J,setHasPendingGenerateFile:K}=ab(),{uploadedFilesSuccess:X,isUploadInProgressOrFailed:Y,isAllUploadSucceeded:G,isUploadBatch:q,isGenerateBatch:$}=er(B),{horizontal:nn,setHorizontal:ne,setDirectionInit:nt}=ax(S),{rmPicaWatermark:ni,loading:nr}=(0,np.b)(),no=(0,h.Z)(()=>{_(!1),E(!1),ne(!1),nt(!1),nf(),D([]),Q(null),v(""),nx(),V(),O([]),K(!1)}),na=(0,h.Z)((n,e)=>{e?no():v(n)}),{start:nA,batchStart:nl,creditCheck:ns,queueInfo:nc,results:ng,resetResult:nf,isLoading:nm,loaddingStatus:nv,cancelReq:nx,taskId:nb}=nd(na,r,$);ed({isRestoration:r,hasPendingGenerateFile:J,onReset:no});let{handleUploadedFiles:nw}=aO({setHasPendingGenerateFile:K,setFileHandling:Z,setIsOverMaxImageCount:N,setOriginUploadedFiles:O,setUploadedFiles:D,setErrorReason:v,creditCheck:ns}),nE=(0,h.Z)(async()=>{v(""),nB({isRetry:!0})}),nC=(0,h.Z)(n=>{window.scrollTo({top:n,behavior:"smooth"})}),{dropProps:n_,isDropTarget:nz,onDrop:nO}=aE({handleUploadedFiles:nw,resetAll:no,scrollEffect:nC,setErrorReason:v,hasPendingGenerateFile:J,modalVisible:d,layoutRef:g});(0,A.useEffect)(()=>{T(ng)},[ng]),(0,A.useEffect)(()=>{(async function(){if(z&&z.length>0){let n=await (0,eN.Od)(z[0]),e=await (0,eN.r5)({file:n,shouldTryCatch:!0,needCreateObjectURL:!0});if(!e){1===z.length&&v(t("1_photo_upload_failed"));return}Q(e)}})()},[z]);let{handleGeneration:nB}=ep({uploadedFiles:B,firstImagePrepareInfo:S,setUploaderCloseStatus:_,creditCheck:ns,setUploadedFiles:D,startBatchGenerate:nl,startGenerate:nA,isRestoration:r,isUploadBatch:q,isGenerateBatch:$,isAllUploadSucceeded:G,setHasPendingGenerateFile:K,errorHook:v});aC({setFirstImagePrepareInfo:Q,setUploadedFiles:D,creditCheck:ns}),(0,A.useEffect)(function(){let n=()=>{var n,e;nC((null===(n=f.current)||void 0===n?void 0:n.offsetTop)-(null===(e=document.getElementById("pica-header"))||void 0===e?void 0:e.offsetHeight))};return R.T.on(U.yK,n),()=>{R.T.off(U.yK,n)}},[]);let nD=(0,p.Z)(C);(0,A.useEffect)(()=>{nD&&!C&&no()},[C,nD]);let nI=(0,A.useMemo)(()=>!i||!q&&!$,[q,$,i]);return(0,a.jsx)(nh.$.Provider,{value:{hasError:!!m,errorReason:m,setErrorReason:v,retryGenerate:nE,resetAll:no,isResultDiffImageReady:w,setIsResultDiffImageReady:E,horizontal:nn,uploadedFiles:B,handleUploadedFiles:nw,taskId:nb,rmWatermark:ni,waterMarkRemoving:nr,setProxyResults:T,proxyResults:H,fileHandling:k,loaddingStatus:nv,isRestoration:r,onDrop:nO,selectedPreviewOrigin:x,setSelectedPreviewOrigin:b,abortUpload:V,originUploadedFiles:z,isOverMaxImageCount:F,setIsOverMaxImageCount:N},children:(0,a.jsxs)(I,{"data-theme":e,...n_,ref:g,className:s()({dropped:nz}),children:[(0,a.jsx)(P.A,{}),nI&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y,{children:[(0,a.jsx)(M,{}),t(ea(r))]}),(0,a.jsx)(j,{children:t(eA(r))})]}),(0,a.jsx)(av,{isUploadBatch:q,isUploadInProgressOrFailed:Y,setUploadedFiles:D,handleUploadedFiles:nw,firstImagePrepareInfo:S,setAbortUpload:W,uploaderClosed:C,enhancerRef:f,uploadedFilesSuccess:X,isLoading:nm,queueInfo:nc,setUploaderCloseStatus:_,originUploadedFiles:z}),(0,a.jsx)(aB,{visible:d,onOpenChange:u,show:o,hide:l}),(0,a.jsx)(ei,{isRestoration:r})]})})}},52800:function(n,e,t){t.d(e,{H:function(){return r}});var i=t(69628);let r=(n,e)=>{let t=e?i.rZ:i.aX;return n.length>=t}},27749:function(n,e,t){var i=t(18421);t(98607),e.Z=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...n,children:(0,i.jsx)("path",{fill:"#0A0A0A",fillRule:"evenodd",d:"M14.286 5.013a.8.8 0 0 0 .8.8h1.082v1.082a.8.8 0 1 0 1.6 0V5.813h1.081a.8.8 0 0 0 0-1.6h-1.081V3.132a.8.8 0 0 0-1.6 0v1.081h-1.082a.8.8 0 0 0-.8.8m-8.559.947 1.415-1.414a.4.4 0 0 1 .565 0L9.97 6.808l-1.98 1.98-2.263-2.263a.4.4 0 0 1 0-.565m14.708 11.314L11.101 7.94l-1.98 1.98 9.334 9.333a.4.4 0 0 0 .566 0l1.414-1.414a.4.4 0 0 0 0-.566M6.01 3.413a2 2 0 0 1 2.829 0l12.728 12.728a2 2 0 0 1 0 2.829l-1.415 1.414a2 2 0 0 1-2.828 0L4.596 7.657a2 2 0 0 1 0-2.829zM1.306 13.892a.8.8 0 0 0 .8.8h.987v.986a.8.8 0 0 0 1.6 0v-.986h.987a.8.8 0 0 0 0-1.6h-.987v-.987a.8.8 0 0 0-1.6 0v.987h-.987a.8.8 0 0 0-.8.8m5.91 5.356a.8.8 0 0 1 0-1.6h.517v-.517a.8.8 0 0 1 1.6 0v.517h.516a.8.8 0 1 1 0 1.6h-.516v.516a.8.8 0 1 1-1.6 0v-.516z",clipRule:"evenodd"})})},17044:function(n,e){e.Z=function(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}}}]);